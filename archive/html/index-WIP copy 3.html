<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Website Handyman - by DesignSpark: Fix Your Broken Website</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#6366f1",
              secondary: "#8b5cf6",
              accent: "#06b6d4",
            },
          },
        },
      };
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: "Inter", sans-serif;
      }

      .gradient-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .card-hover {
        transition: all 0.3s ease;
      }

      .card-hover:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      }

      .btn-primary {
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        transition: all 0.3s ease;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);
      }

      .btn-secondary {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        color: #475569;
        transition: all 0.3s ease;
      }

      .btn-secondary:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }

      .service-icon {
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
      }

      .testimonial-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
      }

      .stats-gradient {
        background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
      }

      .floating-shape {
        animation: float 6s ease-in-out infinite;
      }

      .floating-shape-delay {
        animation: float 6s ease-in-out infinite;
        animation-delay: -3s;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }

        50% {
          transform: translateY(-20px) rotate(180deg);
        }
      }

      .stat-card {
        transition: all 0.3s ease;
      }

      .pulse-glow {
        animation: pulseGlow 2s ease-in-out infinite alternate;
      }

      @keyframes pulseGlow {
        from {
          box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
        }

        to {
          box-shadow: 0 0 40px rgba(6, 182, 212, 0.6);
        }
      }

      /* Website Evaluation Tool Styles */
      .evaluation-bg {
        background: linear-gradient(
          135deg,
          #f0f9ff 0%,
          #e0f2fe 50%,
          #f0f9ff 100%
        );
      }

      .progress-bar {
        transition: width 0.5s ease-in-out;
      }

      .tracker-step {
        transition: all 0.3s ease;
      }

      .tracker-step.active {
        transform: scale(1.1);
      }

      .tracker-step.completed {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
      }

      .tracker-step.active:not(.completed) {
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        color: white;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }

        50% {
          opacity: 0.7;
        }
      }

      .scanning-animation {
        animation: scan 2s ease-in-out infinite;
      }

      @keyframes scan {
        0%,
        100% {
          transform: translateX(-100%);
        }

        50% {
          transform: translateX(100%);
        }
      }

      .analysis-card {
        transition: all 0.3s ease;
        opacity: 0;
        transform: translateY(20px);
      }

      .analysis-card.show {
        opacity: 1;
        transform: translateY(0);
      }

      .score-circle {
        stroke-dasharray: 283;
        stroke-dashoffset: 283;
        transition: stroke-dashoffset 1s ease-in-out;
      }

      .floating-icon {
        animation: floatIcon 3s ease-in-out infinite;
      }

      @keyframes floatIcon {
        0%,
        100% {
          transform: translateY(0px);
        }

        50% {
          transform: translateY(-10px);
        }
      }

      .typewriter {
        overflow: hidden;
        border-right: 2px solid #6366f1;
        white-space: nowrap;
        animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
      }

      @keyframes typing {
        from {
          width: 0;
        }

        to {
          width: 100%;
        }
      }

      @keyframes blink-caret {
        from,
        to {
          border-color: transparent;
        }

        50% {
          border-color: #6366f1;
        }
      }

      /* New Scroll Animation Styles */
      .animate-on-scroll {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      }

      .animate-on-scroll.is-visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* Staggered Delay Classes */
      .delay-1 {
        transition-delay: 150ms;
      }

      .delay-2 {
        transition-delay: 300ms;
      }

      .delay-3 {
        transition-delay: 450ms;
      }

      .delay-4 {
        transition-delay: 600ms;
      }

        
        /* Animation and Tool Specific Styles */
        .fade-in { animation: fadeIn 0.5s ease-in-out forwards; }
        .fade-out { animation: fadeOut 0.5s ease-in-out forwards; }
        .slide-in-up { animation: slideInUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; }
        .score-circle {
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 1.5s ease-out;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
        @keyframes slideInUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        .tracker-item { transition: all 0.4s ease-in-out; opacity: 0.5; transform: scale(0.95); }
        .tracker-item.in-progress { opacity: 1; transform: scale(1.05); background-color: white; box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
        .tracker-item.complete { opacity: 1; transform: scale(1); }
        .tracker-icon .spinner, .tracker-icon .checkmark { display: none; }
        .tracker-icon .pending-icon { display: block; }
        .in-progress .tracker-icon .spinner { display: block; animation: spin 1s linear infinite; }
        .in-progress .tracker-icon .pending-icon { display: none; }
        .complete .tracker-icon .checkmark { display: block; }
        .complete .tracker-icon .pending-icon { display: none; }
        .complete .tracker-text { text-decoration: line-through; color: #64748b; }
        
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    
        @media print {
            body * { visibility: hidden; }
            #advanced-report-content, #advanced-report-content * { visibility: visible; }
            #advanced-report-content { position: absolute; left: 0; top: 0; width: 100%; padding: 2rem; }
            .no-print { display: none !important; }
        }
    </style>
  </head>

  <body class="bg-gray-50">
    <header class="w-full bg-white shadow-sm fixed top-0 left-0 z-40">
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-20"
      >
        <a href="/" class="flex items-center space-x-3 group">
          <svg
            class="w-10 h-10 text-primary"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 10V3L4 14h7v7l9-11h-7z"
            ></path>
          </svg>
          <span
            class="text-lg font-bold text-gray-900 group-hover:text-primary transition-colors"
            >DesignSpark -
            <span
              class="bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent"
              >Website Handyman</span
            ></span
          >
        </a>
        <nav class="flex items-center space-x-4">
          <a
            href="#"
            class="text-gray-700 hover:text-primary font-medium px-4 py-2 rounded transition-colors"
            >Login</a
          >
          <a
            class="bg-gradient-to-r from-primary to-secondary text-white px-5 py-2 rounded-xl font-semibold shadow hover:scale-105 transition-transform"
            href="https://calendly.com/david-withdesignspark/30min"
            target="_blank"
            >Book a Call</a
          >
          <a
            href="#pricing"
            class="text-primary hover:text-secondary font-semibold px-4 py-2 rounded transition-colors underline underline-offset-4 hover:no-underline"
            >See Pricing</a
          >
        </nav>
      </div>
    </header>

    <div class="h-20"></div>

    <section
      class="bg-gray-50 min-h-screen flex items-center justify-center px-4 py-20"
    >
      <div class="max-w-6xl mx-auto text-center">
        <div class="animate-on-scroll">
          <h1
            class="text-5xl md:text-7xl font-bold mb-6 leading-tight text-gray-900"
          >
            Broken Website?
            <span
              class="bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent"
              >Fixed in Hours!</span
            >
          </h1>
          <p
            class="text-xl md:text-2xl mb-12 text-gray-600 max-w-3xl mx-auto leading-relaxed animate-on-scroll delay-1"
          >
            Get back online fast and reclaim your business! Website design &
            repair and design services that get you back online and optimized in
            no time.
          </p>
          <div
            class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-12 animate-on-scroll delay-2"
          >
            <div class="relative">
              <button
                onclick="scrollToPricing()"
                class="bg-gradient-to-r from-primary to-secondary text-white px-10 py-4 rounded-full text-lg font-semibold inline-flex items-center space-x-2 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl relative overflow-hidden group active:scale-95 active:brightness-90"
              >
                <span class="relative z-10">Get Started Now</span>
                <svg
                  class="w-5 h-5 relative z-10"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 7l5 5m0 0l-5 5m5-5H6"
                  ></path>
                </svg>
                <div
                  class="absolute inset-0 bg-gradient-to-r from-secondary to-primary opacity-0 group-hover:opacity-100 transition-opacity duration-300"
                ></div>
              </button>
            </div>
            <div class="relative">
              <button
                onclick="scrollToEvaluation()"
                class="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-10 py-4 rounded-full text-lg font-semibold inline-flex items-center space-x-2 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl active:scale-95 active:brightness-90"
              >
                <span>Free Website Evaluation</span>
                <svg
                  class="w-5 h-5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                  ></path>
                </svg>
              </button>
              <div
                class="absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full animate-pulse"
              >
                🔥 Hot
              </div>
            </div>
          </div>

          <div class="mb-8 animate-on-scroll delay-3">
            <div
              class="bg-green-50 border border-green-200 rounded-full px-6 py-3 inline-flex items-center space-x-3 text-green-700 font-medium"
            >
              <div
                class="w-3 h-3 bg-green-500 rounded-full animate-pulse"
              ></div>
              <span class="text-sm"
                >🚀 <span id="live-counter">23</span> websites evaluated this
                week</span
              >
            </div>
          </div>

          <div
            class="flex flex-col items-center space-y-4 animate-on-scroll delay-4"
          >
            <div class="flex items-center space-x-4">
              <div class="flex -space-x-2">
                <div
                  class="w-12 h-12 rounded-full border-3 border-gray-200 bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold text-sm shadow-md"
                >
                  SM
                </div>
                <div
                  class="w-12 h-12 rounded-full border-3 border-gray-200 bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center text-white font-bold text-sm shadow-md"
                >
                  MJ
                </div>
                <div
                  class="w-12 h-12 rounded-full border-3 border-gray-200 bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center text-white font-bold text-sm shadow-md"
                >
                  LC
                </div>
                <div
                  class="w-12 h-12 rounded-full border-3 border-gray-200 bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center text-white font-bold text-sm shadow-md"
                >
                  DK
                </div>
                <div
                  class="w-12 h-12 rounded-full border-3 border-gray-200 bg-gradient-to-br from-cyan-400 to-teal-500 flex items-center justify-center text-white font-bold text-sm shadow-md"
                >
                  AR
                </div>
              </div>

              <div class="flex flex-col items-start">
                <div class="flex text-yellow-400 mb-1">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                    ></path>
                  </svg>
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                    ></path>
                  </svg>
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                    ></path>
                  </svg>
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                    ></path>
                  </svg>
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                    ></path>
                  </svg>
                </div>
                <div class="text-gray-700 text-sm font-medium">
                  4.9/5 from 500+ customers
                </div>
              </div>

              <button
                onclick="scrollToEvaluation()"
                class="text-primary hover:text-secondary transition-colors text-sm font-medium underline underline-offset-4 hover:no-underline active:scale-95 active:text-secondary"
              >
                Evaluate your site now →
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ================================================================= -->
    <!-- START: WEBSITE EVALUATION TOOL SECTION -->
    <!-- ================================================================= -->
    <section id="website-evaluation" class="bg-slate-100 py-20 px-4">
      <div id="evaluation-tool-container" class="max-w-4xl mx-auto">
        <!-- This container will be dynamically filled by JavaScript -->
      </div>
    </section>
    <!-- ================================================================= -->
    <!-- END: WEBSITE EVALUATION TOOL SECTION -->
    <!-- ================================================================= -->

    <section class="stats-gradient py-20 px-4 relative overflow-hidden">
      <div
        class="absolute inset-0 bg-gradient-to-br from-slate-800/50 to-slate-900/50"
      ></div>

      <div class="max-w-6xl mx-auto relative z-10">
        <div class="mt-8 text-center animate-on-scroll delay-4">
          <div
            class="max-w-5xl mx-auto bg-gradient-to-br from-white via-slate-100 to-slate-200 rounded-3xl px-10 py-10 mb-8 shadow-lg border border-slate-200"
          >
            <p
              class="text-2xl md:text-3xl font-semibold text-gray-800 mb-4 leading-snug"
            >
              Our team has deep expertise across the most popular website
              platforms and builders.
            </p>
            <p class="text-lg md:text-xl text-gray-600 mb-0 leading-relaxed">
              Whether your site is built on
              <span class="font-bold text-primary">WordPress</span>,
              <span class="font-bold text-green-600">Shopify</span>,
              <span class="font-bold text-yellow-600">Wix</span>,
              <span class="font-bold text-gray-700">Squarespace</span>,
              <span class="font-bold text-blue-600">Webflow</span>, or
              <span class="font-bold text-blue-500">Framer</span>, we know the
              ins and outs to deliver fast, reliable fixes and improvements.
            </p>
          </div>
          <p class="text-gray-300 mb-2">We work with these trusted platforms</p>
          <div class="flex justify-center items-center space-x-8 opacity-60">
            <div class="text-xl flex items-center space-x-2">
              <svg
                class="w-5 h-5 text-white"
                viewBox="0 0 32 32"
                fill="currentColor"
              >
                <circle cx="16" cy="16" r="16" fill="#21759b" />
                <path
                  d="M16 2.667c7.333 0 13.333 6 13.333 13.333S23.333 29.333 16 29.333 2.667 23.333 2.667 16 8.667 2.667 16 2.667zm0 1.6C9.28 4.267 3.733 9.813 3.733 16.533c0 5.547 4.053 10.16 9.44 11.04l-2.56-7.04c-.427-1.2-.747-2.267-.747-3.093 0-1.12.427-2.133 1.12-2.133.427 0 .747.427.747 1.067 0 1.067-.747 2.667-1.067 3.733l2.987 8.267c.96.267 1.973.427 3.04.427 1.013 0 2-.133 2.933-.373l-2.613-7.36c-.427-1.2-.747-2.267-.747-3.093 0-1.12.427-2.133 1.12-2.133.427 0 .747.427.747 1.067 0 1.067-.747 2.667-1.067 3.733l2.987 8.267c5.387-.88 9.44-5.493 9.44-11.04 0-6.72-5.547-12.267-12.267-12.267z"
                  fill="#fff"
                />
              </svg>
              <span class="text-white font-semibold">WordPress</span>
            </div>
            <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
            <div class="flex items-center space-x-2">
              <svg class="w-5 h-5 text-white" viewBox="0 0 32 32" fill="none">
                <path
                  d="M6.5 9.5L16 3l9.5 6.5v13L16 29l-9.5-6.5v-13z"
                  fill="#95BF47"
                />
                <path
                  d="M16 3v26M6.5 9.5l19 13M25.5 9.5l-19 13"
                  stroke="#fff"
                  stroke-width="1.5"
                />
              </svg>
              <span class="text-white font-semibold">Shopify</span>
            </div>
            <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
            <div class="flex items-center space-x-2">
              <svg class="w-5 h-5 text-white" viewBox="0 0 32 32" fill="none">
                <rect width="32" height="32" rx="16" fill="#fff" />
                <path
                  d="M7 11l3.5 10h2L16 13.5 19.5 21h2L25 11h-2l-2.5 7.5L17 11h-2l-1.5 7.5L9 11H7z"
                  fill="#090909"
                />
              </svg>
              <span class="text-white font-semibold">Wix</span>
            </div>
            <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
            <div class="flex items-center space-x-2">
              <svg class="w-5 h-5 text-white" viewBox="0 0 32 32" fill="none">
                <rect width="32" height="32" rx="16" fill="#222" />
                <path
                  d="M11.5 20.5l7-7m-7 0l7 7"
                  stroke="#fff"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
              <span class="text-white font-semibold">Squarespace</span>
            </div>
            <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
            <div class="flex items-center space-x-2">
              <svg class="w-5 h-5 text-white" viewBox="0 0 32 32" fill="none">
                <rect width="32" height="32" rx="16" fill="#4353FF" />
                <path
                  d="M10 22l3-12 3 8 3-8 3 12"
                  stroke="#fff"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <span class="text-white font-semibold">Webflow</span>
            </div>
            <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
            <div class="flex items-center space-x-2">
              <svg class="w-5 h-5 text-white" viewBox="0 0 32 32" fill="none">
                <rect width="32" height="32" rx="16" fill="#0055FF" />
                <path d="M10 10h12v6H16l6 6H10v-6h6l-6-6z" fill="#fff" />
              </svg>
              <span class="text-white font-semibold">Framer</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="py-20 px-4 bg-white">
      <div class="max-w-6xl mx-auto">
        <div class="grid md:grid-cols-2 gap-16 items-center">
          <div class="animate-on-scroll">
            <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-8">
              Website Problems <span class="text-red-500">Killing</span> Your
              Business?
            </h2>
            <div class="space-y-6">
              <div class="flex items-start space-x-4">
                <div
                  class="w-8 h-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
                >
                  <svg
                    class="w-5 h-5 text-red-500"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M10 18a8 8 0 100-16 8 8 0 000 16zm0-2a6 6 0 100-12 6 6 0 000 12zm-1-7h2v2h-2v-2zm0 4h2v2h-2v-2z"
                      clip-rule="evenodd"
                    ></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-xl font-semibold text-gray-900 mb-2">
                    Broken Forms & Lost Leads
                  </h3>
                  <p class="text-gray-600">
                    Contact forms not working means customers can't reach you
                  </p>
                </div>
              </div>
              <div class="flex items-start space-x-4">
                <div
                  class="w-8 h-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
                >
                  <svg
                    class="w-5 h-5 text-red-500"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M10 18a8 8 0 100-16 8 8 0 000 16zm0-2a6 6 0 100-12 6 6 0 000 12zm-1-7h2v2h-2v-2zm0 4h2v2h-2v-2z"
                      clip-rule="evenodd"
                    ></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-xl font-semibold text-gray-900 mb-2">
                    Slow Loading Times
                  </h3>
                  <p class="text-gray-600">
                    Visitors leave before your site even loads
                  </p>
                </div>
              </div>
              <div class="flex items-start space-x-4">
                <div
                  class="w-8 h-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
                >
                  <svg
                    class="w-5 h-5 text-red-500"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M10 18a8 8 0 100-16 8 8 0 000 16zm0-2a6 6 0 100-12 6 6 0 000 12zm-1-7h2v2h-2v-2zm0 4h2v2h-2v-2z"
                      clip-rule="evenodd"
                    ></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-xl font-semibold text-gray-900 mb-2">
                    Mobile Disasters
                  </h3>
                  <p class="text-gray-600">
                    Your site looks terrible on phones and tablets
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div class="animate-on-scroll delay-1">
            <div
              class="bg-gradient-to-br from-green-50 to-blue-50 p-8 rounded-3xl"
            >
              <h3 class="text-3xl font-bold text-gray-900 mb-6">
                We Fix It All
              </h3>
              <div class="space-y-6">
                <div class="flex items-start space-x-4">
                  <div
                    class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
                  >
                    <svg
                      class="w-5 h-5 text-green-500"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                        clip-rule="evenodd"
                      ></path>
                    </svg>
                  </div>
                  <div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">
                      Broken Links & Missing Images
                    </h3>
                    <p class="text-gray-600">
                      No more 404 errors or empty image boxes—your site will
                      look polished and professional.
                    </p>
                  </div>
                </div>
                <div class="flex items-start space-x-4">
                  <div
                    class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
                  >
                    <svg
                      class="w-5 h-5 text-green-500"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                        clip-rule="evenodd"
                      ></path>
                    </svg>
                  </div>
                  <div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">
                      Performance Optimization
                    </h3>
                    <p class="text-gray-600">
                      We speed up your site so visitors stay longer and Google
                      ranks you higher.
                    </p>
                  </div>
                </div>
                <div class="flex items-start space-x-4">
                  <div
                    class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
                  >
                    <svg
                      class="w-5 h-5 text-green-500"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                        clip-rule="evenodd"
                      ></path>
                    </svg>
                  </div>
                  <div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">
                      Mobile Responsiveness
                    </h3>
                    <p class="text-gray-600">
                      Your website will look and work perfectly on every device,
                      every time.
                    </p>
                  </div>
                </div>
                <div class="flex items-start space-x-4">
                  <div
                    class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
                  >
                    <svg
                      class="w-5 h-5 text-green-500"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                        clip-rule="evenodd"
                      ></path>
                    </svg>
                  </div>
                  <div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">
                      SEO Issues
                    </h3>
                    <p class="text-gray-600">
                      We fix technical SEO problems so your site can be found by
                      more customers.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="py-20 px-4 bg-white">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16 animate-on-scroll">
          <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
            Why Choose <span class="text-primary">DesignSpark?</span>
          </h2>
          <p class="text-xl text-gray-600 max-w-2xl mx-auto">
            We're not just another web agency. We're your dedicated website
            emergency response team.
          </p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div class="text-center animate-on-scroll">
            <div
              class="w-20 h-20 bg-gradient-to-br from-blue-100 to-primary/20 rounded-2xl flex items-center justify-center mx-auto mb-6"
            >
              <svg
                class="w-10 h-10 text-primary"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 10V3L4 14h7v7l9-11h-7z"
                ></path>
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 mb-4">
              Lightning Fast
            </h3>
            <p class="text-gray-600 leading-relaxed">
              Most fixes completed within 48 hours. Emergency repairs can be
              done same-day. No more waiting weeks for simple fixes.
            </p>
          </div>

          <div class="text-center animate-on-scroll delay-1">
            <div
              class="w-20 h-20 bg-gradient-to-br from-green-100 to-green-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6"
            >
              <svg
                class="w-10 h-10 text-green-500"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 10V3L4 14h7v7l9-11h-7z"
                ></path>
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 mb-4">
              Love It Guarantee
            </h3>
            <p class="text-gray-600 leading-relaxed">
              If you're not satisfied, we'll work until you are. We want you to
              love the results.
            </p>
          </div>

          <div class="text-center animate-on-scroll delay-2">
            <div
              class="w-20 h-20 bg-gradient-to-br from-purple-100 to-purple-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6"
            >
              <svg
                class="w-10 h-10 text-purple-500"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <circle cx="12" cy="12" r="10" stroke-width="2"></circle>
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12l2 2 4-4"
                ></path>
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 mb-4">Expert Team</h3>
            <p class="text-gray-600 leading-relaxed">
              Our developer has 10+ years experience with every major platform.
              No problem is too complex for us to solve.
            </p>
          </div>

          <div class="text-center animate-on-scroll delay-3">
            <div
              class="w-20 h-20 bg-gradient-to-br from-cyan-100 to-cyan-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6"
            >
              <svg
                class="w-10 h-10 text-cyan-500"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                ></path>
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 mb-4">Fair Pricing</h3>
            <p class="text-gray-600 leading-relaxed">
              No hidden fees or surprise charges. Transparent pricing with fixed
              rates so you know exactly what you're paying upfront.
            </p>
          </div>

          <div class="text-center animate-on-scroll delay-4">
            <div
              class="w-20 h-20 bg-gradient-to-br from-orange-100 to-orange-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6"
            >
              <svg
                class="w-10 h-10 text-orange-500"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v14a2 2 0 002 2h8a2 2 0 002-2V6a2 2 0 00-2-2H9.586a1 1 0 01-.707-.293l-5.414-5.414a1 1 0 01-.293-.707V2a2 2 0 012-2h2a2 2 0 012 2z"
                ></path>
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 mb-4">All Platforms</h3>
            <p class="text-gray-600 leading-relaxed">
              WordPress, Shopify, Wix, Squarespace, custom sites - we fix them
              all. One team for all your website needs.
            </p>
          </div>

          <div class="text-center animate-on-scroll delay-1">
            <div
              class="w-20 h-20 bg-gradient-to-br from-pink-100 to-pink-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6"
            >
              <svg
                class="w-10 h-10 text-pink-500"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
                ></path>
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 mb-4">
              Personal Touch
            </h3>
            <p class="text-gray-600 leading-relaxed">
              You'll work directly with experienced developers, not junior
              staff. We treat your website like it's our own.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="portfolio" class="py-20 bg-gray-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12 animate-on-scroll">
          <h2 class="text-4xl font-bold text-gray-900 mb-4">Portfolio</h2>
          <p class="text-xl text-gray-600">A selection of my recent work</p>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
          <div
            class="relative group cursor-pointer animate-on-scroll"
            onclick="openPortfolioModal('images/dental-website-design.jpg')"
          >
            <img
              src="images/dental-website-design.jpg"
              alt="Website Design - dental-website-design.jpg"
              class="rounded-2xl shadow-lg w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"
            />
          </div>
          <div
            class="relative group cursor-pointer animate-on-scroll delay-1"
            onclick="openPortfolioModal('images/gripsock-ecommerce-website-design.jpg')"
          >
            <img
              src="images/gripsock-ecommerce-website-design.jpg"
              alt="Website Design - gripsock-ecommerce-website-design.jpg"
              class="rounded-2xl shadow-lg w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"
            />
          </div>
          <div
            class="relative group cursor-pointer animate-on-scroll delay-2"
            onclick="openPortfolioModal('images/payment-website-design.jpg')"
          >
            <img
              src="images/payment-website-design.jpg"
              alt="Website Design - payment-website-design.jpg"
              class="rounded-2xl shadow-lg w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"
            />
          </div>
          <div
            class="relative group cursor-pointer animate-on-scroll"
            onclick="openPortfolioModal('images/skin-care-web-design.jpg')"
          >
            <img
              src="images/skin-care-web-design.jpg"
              alt="Website Design - skin-care-web-design.jpg"
              class="rounded-2xl shadow-lg w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"
            />
          </div>
          <div
            class="relative group cursor-pointer animate-on-scroll delay-1"
            onclick="openPortfolioModal('images/bloom-branding.jpg')"
          >
            <img
              src="images/bloom-branding.jpg"
              alt="Branding - bloom-branding.jpg"
              class="rounded-2xl shadow-lg w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"
            />
          </div>
          <div
            class="relative group cursor-pointer animate-on-scroll delay-2"
            onclick="openPortfolioModal('images/app-design.jpg')"
          >
            <img
              src="images/app-design.jpg"
              alt="Website Design - app-design.jpg"
              class="rounded-2xl shadow-lg w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"
            />
          </div>
        </div>
      </div>
      <div
        id="portfolioModal"
        class="fixed inset-0 z-50 pointer-events-none hidden flex items-center justify-center"
      >
        <div
          id="modalBg"
          class="absolute inset-0 bg-black bg-opacity-70 opacity-0 transition-opacity duration-300"
        ></div>
        <div
          id="modalContent"
          class="relative max-w-3xl w-full mx-4 opacity-0 scale-95 transition-all duration-300 transform"
        >
          <button
            onclick="closePortfolioModal()"
            class="absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-80 focus:outline-none z-10 active:scale-95 active:bg-opacity-90"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              ></path>
            </svg>
          </button>
          <img
            id="modalImage"
            src=""
            alt="Portfolio Large"
            class="rounded-2xl shadow-2xl w-full max-h-[80vh] object-contain bg-white"
          />
        </div>
      </div>
    </section>

    <section id="pricing" class="py-20 px-4 bg-gray-50">
      <div class="container mx-auto">
        <div class="text-center mb-16 animate-on-scroll">
          <h2 class="text-3xl font-bold text-gray-800 mb-4">
            Simple, Transparent Pricing
          </h2>
          <p class="text-gray-600 max-w-2xl mx-auto">
            Choose the plan that works best for your website needs, from
            one-time fixes to ongoing maintenance.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div
            class="bg-white rounded-xl shadow-lg overflow-hidden transition-transform hover:scale-105 flex flex-col h-full animate-on-scroll"
          >
            <div class="p-6 flex-1 flex flex-col">
              <h3 class="text-xl font-semibold text-gray-800 mb-4">
                Quick Fix
              </h3>
              <div class="flex items-baseline mb-6">
                <span class="text-4xl font-bold text-gray-800">$99</span>
                <span class="text-gray-500 ml-2">/ one-time</span>
              </div>
              <p class="text-gray-600 mb-6">
                Perfect for small issues that need immediate attention.
              </p>
              <ul class="space-y-3 mb-8">
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-green-500 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span>Fix 1 specific issue</span>
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-green-500 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span>48-hour turnaround</span>
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-green-500 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span>30-day guarantee</span>
                </li>
              </ul>
            </div>
            <div class="px-6 pb-6 mt-auto">
              <button
                class="w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition active:bg-gray-400 active:text-gray-900 active:scale-95 active:brightness-90"
                style="transition: background 0.2s, color 0.2s, transform 0.1s"
              >
                Get Started
              </button>
            </div>
          </div>

          <div
            class="bg-indigo-600 rounded-xl shadow-xl overflow-hidden transform scale-105 z-10 flex flex-col h-full animate-on-scroll delay-1"
          >
            <div class="bg-indigo-700 py-2">
              <p class="text-center text-white font-medium">MOST POPULAR</p>
            </div>
            <div class="p-6 flex-1 flex flex-col">
              <h3 class="text-xl font-semibold text-white mb-4">
                Monthly Club
              </h3>
              <div class="flex items-baseline mb-6">
                <span class="text-4xl font-bold text-white">$1999</span>
                <span class="text-indigo-200 ml-2">/ month</span>
              </div>
              <p class="text-indigo-100 mb-6">
                Ongoing support to keep your website in top shape.
              </p>
              <ul class="space-y-3 mb-8">
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span class="text-white">One task at a time</span>
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span class="text-white">Average 48-hour delivery</span>
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span class="text-white">Unlimited Brands</span>
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span class="text-white">Unlimited Site Fixes</span>
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span class="text-white"
                    >Monthly Site UX Insights Report</span
                  >
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span class="text-white">Unlimited Stock Photos</span>
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span class="text-white">Webflow or Framer Development</span>
                </li>

                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span class="text-white">Pause or Cancel Anytime</span>
                </li>
              </ul>
            </div>
            <div class="px-6 pb-6 mt-auto">
              <button
                class="w-full bg-white hover:bg-gray-200 text-indigo-900 font-medium py-3 rounded-lg transition pulse active:bg-gray-300 active:text-indigo-800 active:scale-95 active:brightness-90"
                style="transition: background 0.2s, color 0.2s, transform 0.1s"
              >
                Subscribe Now
              </button>
            </div>
          </div>

          <div
            class="bg-white rounded-xl shadow-lg overflow-hidden transition-transform hover:scale-105 flex flex-col h-full animate-on-scroll delay-2"
          >
            <div class="p-6 flex-1 flex flex-col">
              <h3 class="text-xl font-semibold text-gray-800 mb-4">
                Website Overhaul
              </h3>
              <div class="flex items-baseline mb-6">
                <span class="text-4xl font-bold text-gray-800">$3999</span>
                <span class="text-gray-500 ml-2">/ one-time</span>
              </div>
              <p class="text-gray-600 mb-6">
                Complete redesign and optimization of your existing website.
              </p>
              <ul class="space-y-3 mb-8">
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-green-500 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span>Full design refresh</span>
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-green-500 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span>UX and conversion focused</span>
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-green-500 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span>Mobile optimization</span>
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-green-500 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span>Speed optimization</span>
                </li>
                <li class="flex items-start">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-green-500 mr-2 mt-0.5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  <span>SEO improvements</span>
                </li>
              </ul>
            </div>
            <div class="px-6 pb-6 mt-auto">
              <button
                class="w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition active:bg-gray-400 active:text-gray-900 active:scale-95 active:brightness-90"
                style="transition: background 0.2s, color 0.2s, transform 0.1s"
              >
                Get Started
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="px-6 py-20 md:px-12 bg-white">
      <div class="max-w-4xl mx-auto">
        <h2
          id="faq"
          class="text-3xl md:text-4xl font-bold text-center mb-16 animate-on-scroll"
        >
          Frequently Asked Questions
        </h2>

        <div class="mb-12">
          <h3 class="text-2xl font-bold text-center mb-8 text-primary">
            Monthly Club
          </h3>
          <div class="space-y-4" id="faq-accordion-monthly">
            <div class="bg-card rounded-lg overflow-hidden animate-on-scroll">
              <button
                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                data-faq="faq-1"
                aria-expanded="false"
              >
                <span>How fast will I receive my designs / tasks?</span>
                <svg
                  class="w-5 h-5 transform transition-transform"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div
                class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg"
                id="faq-1"
              >
                Most requests are completed in two days or less. If you send
                over something more complex, it might take a bit more time, but
                I'll always keep you updated on the progress.
              </div>
            </div>
            <div
              class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-1"
            >
              <button
                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                data-faq="faq-4"
                aria-expanded="false"
              >
                <span>Is there a limit to how many requests I can make?</span>
                <svg
                  class="w-5 h-5 transform transition-transform"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div
                class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg"
                id="faq-4"
              >
                Nope! Feel free to fill up your queue with as many design /
                development requests as you can think of. I'll get to work on
                them and deliver them back to you one by one.
              </div>
            </div>
            <div
              class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-2"
            >
              <button
                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                data-faq="faq-5"
                aria-expanded="false"
              >
                <span>How do Monthly site fixes work?</span>
                <svg
                  class="w-5 h-5 transform transition-transform"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div
                class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg"
                id="faq-5"
              >
                The development process is straightforward. These are treated
                the same as 'design requests', As long as your request is
                supported by your website platform, DesignSpark will handle the
                fix and development for you. Just submit your fix request, and
                I'll take care of the rest.
              </div>
            </div>
            <div
              class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-3"
            >
              <button
                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                data-faq="faq-6"
                aria-expanded="false"
              >
                <span>How does webflow, framer development work?</span>
                <svg
                  class="w-5 h-5 transform transition-transform"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div
                class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg"
                id="faq-6"
              >
                The development process is straightforward. These are treated
                the same as 'design requests'. As long as your request is
                supported by webflow or framer, DesignSpark will handle the
                development for you. Just submit your design request, and I'll
                take care of the rest. Once the design is ready, I'll build it
                out in Webflow or Framer, ensuring everything looks and works
                perfectly. You'll receive a link to review the live site before
                we finalize everything. And the website will be transferred to
                your account, so you have full ownership and control. At that
                point a new subscription will not be required to maintain the
                website.
              </div>
            </div>
            <div
              class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-4"
            >
              <button
                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                data-faq="faq-8"
                aria-expanded="false"
              >
                <span>How does the pause feature work?</span>
                <svg
                  class="w-5 h-5 transform transition-transform"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div
                class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg"
                id="faq-8"
              >
                Got a quiet spell? I get it. You might not have enough design
                work for a full month straight. That's why you can pause your
                subscription anytime.
                <br /><br />
                Billing is based on a 31-day cycle. For example, if you use the
                service for 20 days and then hit pause, you'll still have 11
                days of service ready and waiting for whenever you need them
                next. No wasted days!
              </div>
            </div>
            <div class="bg-card rounded-lg overflow-hidden animate-on-scroll">
              <button
                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                data-faq="faq-9"
                aria-expanded="false"
              >
                <span>How do you handle larger requests?</span>
                <svg
                  class="w-5 h-5 transform transition-transform"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div
                class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg"
                id="faq-9"
              >
                For bigger projects like a full website or app design, I break
                them down into smaller, manageable milestones. This way, you'll
                see consistent progress with updates delivered every couple of
                days until your entire project is complete and looking sharp.
              </div>
            </div>
          </div>
        </div>

        <div>
          <h3 class="text-2xl font-bold text-center mb-8 text-primary">
            Basic Questions
          </h3>
          <div class="space-y-4" id="faq-accordion-basic">
            <div class="bg-card rounded-lg overflow-hidden animate-on-scroll">
              <button
                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                data-faq="faq-2"
                aria-expanded="false"
              >
                <span>How does onboarding work?</span>
                <svg
                  class="w-5 h-5 transform transition-transform"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div
                class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg"
                id="faq-2"
              >
                Getting started is a breeze. Once you subscribe, I'll set you up
                with your own private Trello board—usually within the hour. Just
                accept the invite, and you're ready to start submitting
                requests! I've left some simple instructions on the board to
                guide you.
              </div>
            </div>
            <div
              class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-1"
            >
              <button
                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                data-faq="faq-3"
                aria-expanded="false"
              >
                <span>Who are the developers and designers?</span>
                <svg
                  class="w-5 h-5 transform transition-transform"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div
                class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg"
                id="faq-3"
              >
                You're looking at him! DesignSpark is a one-man creative and web
                development studio,founded and run by me, David. I handle every
                project personally from start to finish. This means no middlemen
                and no outsourcing— just a direct, dedicated partnership with
                you.
              </div>
            </div>
            <div
              class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-2"
            >
              <button
                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                data-faq="faq-7"
                aria-expanded="false"
              >
                <span>How do quick fixes work?</span>
                <svg
                  class="w-5 h-5 transform transition-transform"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div
                class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg"
                id="faq-7"
              >
                The development process is straightforward. As long as your
                request is supported by your current platform, DesignSpark will
                handle the fix and development for you. Just submit your fix
                request, and I'll take care of the rest.
              </div>
            </div>
            <div
              class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-3"
            >
              <button
                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                data-faq="faq-10"
                aria-expanded="false"
              >
                <span>What programs do you design in?</span>
                <svg
                  class="w-5 h-5 transform transition-transform"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div
                class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg"
                id="faq-10"
              >
                I primarily use Figma for all design work. It's the industry
                standard for a reason—it's super collaborative, easy to use, and
                lets me deliver top-notch designs efficiently. If you have any
                other file format needs, just let me know, and I'll do my best
                to accommodate.
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="py-20 px-4 bg-white">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16 animate-on-scroll">
          <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
            Get In Touch <span class="text-primary">With Us</span>
          </h2>
          <p class="text-xl text-gray-600 max-w-2xl mx-auto">
            Have questions or ready to get started? We're here to help.
          </p>
        </div>

        <div
          class="max-w-lg mx-auto bg-white rounded-3xl shadow-2xl p-8 md:p-12 animate-on-scroll"
        >
          <!-- ================================================================= -->
          <!-- START FORM MODIFICATION -->
          <!-- The action attribute points to the new PHP script. -->
          <!-- The method is set to POST. -->
          <!-- ================================================================= -->
          <form
            action="process-contact-form.php"
            method="POST"
            class="space-y-6"
          >
            <div>
              <label
                for="name"
                class="block text-sm font-semibold text-gray-700 mb-2"
                >Your Name</label
              >
              <input
                type="text"
                id="name"
                name="name"
                required
                class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-gray-900 bg-white"
                placeholder="John Doe"
              />
            </div>

            <div>
              <label
                for="email"
                class="block text-sm font-semibold text-gray-700 mb-2"
                >Your Email</label
              >
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-gray-900 bg-white"
                placeholder="you@example.com"
              />
            </div>

            <div>
              <label
                for="message"
                class="block text-sm font-semibold text-gray-700 mb-2"
                >Message</label
              >
              <textarea
                id="message"
                name="message"
                rows="4"
                required
                class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-gray-900 bg-white"
                placeholder="How can we help you?"
              ></textarea>
            </div>

            <div class="text-center">
              <button
                type="submit"
                class="w-full bg-gradient-to-r from-primary to-secondary text-white px-8 py-4 rounded-xl text-lg font-semibold inline-flex items-center justify-center space-x-3 hover:scale-105 transition-transform shadow-lg hover:shadow-xl active:scale-95 active:brightness-90"
              >
                <svg
                  class="w-6 h-6"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 10V3L4 14h7v7l9-11h-7z"
                  ></path>
                </svg>
                <span>Send Message</span>
              </button>
            </div>
          </form>
          <!-- ================================================================= -->
          <!-- END FORM MODIFICATION -->
          <!-- ================================================================= -->

          <div class="mt-8 text-center text-sm text-gray-500">
            <p>
              We typically respond within 1 business day. For urgent inquiries,
              call us at
              <a href="tel:+18012101118" class="text-primary font-semibold"
                >+1 (801) 210-1118</a
              >.
            </p>
          </div>
        </div>
      </div>
    </section>

    <footer class="py-10 px-4 bg-gray-800">
      <div class="max-w-6xl mx-auto text-center">
        <div class="text-white mb-6">
          &copy; 2025 DesignSpark. All rights reserved.
          <p>Based in Holladay Utah</p>
        </div>
        <div class="flex justify-center items-center space-x-4">
          <a
            href="#"
            onclick="openModal('privacyModal');return false;"
            class="text-gray-400 hover:text-white transition-colors"
          >
            Privacy Policy
          </a>
          <span class="text-gray-600">|</span>
          <a
            href="#"
            onclick="openModal('termsModal');return false;"
            class="text-gray-400 hover:text-white transition-colors"
          >
            Terms of Service
          </a>
        </div>
      </div>
    </footer>

    <div
      id="privacyModal"
      class="fixed inset-0 z-50 pointer-events-none hidden flex items-center justify-center"
    >
      <div
        onclick="closeModal('privacyModal')"
        class="absolute inset-0 bg-black bg-opacity-70"
      ></div>
      <div
        class="relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 p-8"
      >
        <button
          onclick="closeModal('privacyModal')"
          class="absolute top-2 right-2 text-gray-500 hover:text-gray-900"
        >
          <svg
            class="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            ></path>
          </svg>
        </button>
        <h2 class="text-2xl font-bold mb-4">Privacy Policy</h2>
        <div
          class="text-gray-700 text-sm space-y-4 max-h-[70vh] overflow-y-auto"
        >
          <p>
            We respect your privacy and are committed to protecting your
            personal information. Any information you provide through our
            website (such as your name, email, or website URL) will only be used
            to provide our services and communicate with you. We do not sell,
            rent, or share your information with third parties except as
            required to deliver our services or comply with the law.
          </p>
          <p>
            We use industry-standard security measures to protect your data. By
            using our website, you consent to our collection and use of your
            information as described in this policy. If you have any questions
            about our privacy practices, please contact us.
          </p>
        </div>
      </div>
    </div>

    <div
      id="termsModal"
      class="fixed inset-0 z-50 pointer-events-none hidden flex items-center justify-center"
    >
      <div
        onclick="closeModal('termsModal')"
        class="absolute inset-0 bg-black bg-opacity-70"
      ></div>
      <div
        class="relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 p-8"
      >
        <button
          onclick="closeModal('termsModal')"
          class="absolute top-2 right-2 text-gray-500 hover:text-gray-900"
        >
          <svg
            class="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            ></path>
          </svg>
        </button>
        <h2 class="text-2xl font-bold mb-4">Terms of Service</h2>
        <div
          class="text-gray-700 text-sm space-y-4 max-h-[70vh] overflow-y-auto"
        >
          <p>
            By using DesignSpark, you agree to the following terms and
            conditions. Our services are provided "as is" and without warranties
            of any kind, either express or implied. We strive to deliver
            high-quality work, but we do not guarantee that your website will be
            error-free, uninterrupted, or achieve specific results.
          </p>
          <p>
            <strong>Subscriptions:</strong> If you subscribe to a recurring plan
            (such as the Monthly Club), you authorize us to charge your payment
            method on a recurring basis until you pause or cancel your
            subscription. You may cancel or pause your subscription at any time,
            and your service will continue until the end of the current billing
            period. No refunds are provided for partial months.
          </p>
          <p>
            <strong>Limitation of Liability:</strong> In no event shall
            DesignSpark, its owners, or affiliates be liable for any direct,
            indirect, incidental, special, or consequential damages arising from
            the use or inability to use our services, including but not limited
            to loss of data, profits, or business interruption. You agree to
            indemnify and hold us harmless from any claims arising from your use
            of our services.
          </p>
          <p>
            <strong>Service Limitations:</strong> We reserve the right to refuse
            service, terminate accounts, or cancel orders at our sole
            discretion. We are not responsible for issues caused by third-party
            platforms, hosting providers, or changes made to your website by you
            or others after our work is completed.
          </p>
          <p>
            These terms may be updated at any time. Continued use of our
            services constitutes acceptance of any changes.
          </p>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Smooth scroll function
        function scrollToSection(sectionId) {
          const section = document.getElementById(sectionId);
          if (section) {
            window.scrollTo({
              top: section.offsetTop - 80,
              behavior: "smooth",
            });
          }
        }
        window.scrollToEvaluation = () => scrollToSection("website-evaluation");
        window.scrollToPricing = () => scrollToSection("pricing");
        // Scroll functions
        function scrollToForm() {
          scrollToSection("contact");
        }

        function scrollToTestimonials() {
          scrollToSection("testimonials");
        }

        // Contact Form AJAX handler
        const contactForm = document.getElementById("contactForm");
        if (contactForm) {
          contactForm.addEventListener("submit", function (e) {
            e.preventDefault();
            const form = this;
            const formData = new FormData(form);
            fetch("process-contact-form.php", {
              method: "POST",
              body: formData,
            })
              .then((response) => response.json())
              .then((data) => {
                const successMessage =
                  document.getElementById("formSuccessMessage");
                const errorMessage =
                  document.getElementById("formErrorMessage");
                if (data.success) {
                  form.style.display = "none";
                  successMessage.classList.remove("hidden");
                } else {
                  errorMessage.textContent =
                    data.message || "An error occurred.";
                  errorMessage.classList.remove("hidden");
                }
              })
              .catch((error) => {
                document.getElementById("formErrorMessage").textContent =
                  "A network error occurred.";
                document
                  .getElementById("formErrorMessage")
                  .classList.remove("hidden");
              });
          });
        }

        // =================================================================
        // START: WEBSITE EVALUATION TOOL JAVASCRIPT
        // =================================================================
        const toolContainer = document.getElementById(
          "evaluation-tool-container"
        );

        toolContainer.innerHTML = `
                <div id="start-screen" class="text-center bg-white p-8 rounded-2xl shadow-lg fade-in">
                    <h2 class="text-2xl font-bold mb-4">Get Your Free Website Analysis</h2>
                    <p class="text-slate-600 mb-8 max-w-2xl mx-auto">Our AI will analyze your site's design, clarity, and how well it encourages visitors to take action.</p>
                    <div class="max-w-md mx-auto space-y-4">
                        <div><input id="eval_name_input" type="text" placeholder="Your Name" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500"><p id="name-error" class="text-red-500 mt-2 text-sm text-left hidden">Please enter your name.</p></div>
                        <div><input id="eval_email_input" type="email" placeholder="you@email.com" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500"><p id="email-error" class="text-red-500 mt-2 text-sm text-left hidden">Please enter a valid email address.</p></div>
                        <div><input id="eval_website_url_input" type="url" placeholder="https://yourwebsite.com" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500"><p id="url-error" class="text-red-500 mt-2 text-sm text-left hidden">Please enter a valid URL.</p></div>
                        <div class="flex items-start space-x-3 text-left"><input id="newsletter_checkbox" name="newsletter" type="checkbox" value="1" checked class="mt-1 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"><div class="text-sm"><label for="newsletter_checkbox" class="text-sm font-medium text-gray-700">Yes, send me occasional insights about turning more visitors into customers — no spam, promise.</label></div></div>
                        <button id="start-btn" class="w-full bg-gradient-to-r from-primary to-secondary text-white px-8 py-4 rounded-xl text-lg font-semibold inline-flex items-center justify-center space-x-3 hover:scale-105 transition-transform shadow-lg"><span>Start Free Analysis</span></button>
                    </div>
                </div>
                <div id="processing-screen" class="hidden bg-white p-8 rounded-2xl shadow-lg text-center">
                    <h2 class="text-2xl font-bold mb-2">AI Is Analyzing Your Website...</h2>
                    <p class="text-slate-600 mb-8">This can take up to a minute. We're saving your info and sending the site to the AI.</p>
                    <div id="tracker-container" class="space-y-3 max-w-md mx-auto text-left"></div>
                </div>
                <div id="results-screen" class="hidden text-center">
                    <div class="bg-white p-8 rounded-2xl shadow-lg">
                        <div id="results-url" class="mb-4 text-sm text-indigo-700 font-semibold break-all"></div>
                        <h2 class="text-3xl font-bold mb-2">Your Analysis is Complete!</h2>
                        <p class="text-slate-600 mb-8">Here's your website's initial score. For detailed recommendations, order the full report.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div class="relative flex justify-center items-center h-[18rem] w-[18rem] mx-auto">
                                <svg class="w-[18rem] h-[18rem] transform -rotate-90"><circle class="text-slate-200" stroke-width="16" stroke="currentColor" fill="transparent" r="80" cx="144" cy="144" /><circle id="score-circle" class="text-indigo-600 score-circle" stroke-width="16" stroke-linecap="round" stroke="currentColor" fill="transparent" r="80" cx="144" cy="144" /></svg>
                                <div class="absolute flex flex-col items-center"><span id="overall-score-text" class="text-4xl font-extrabold text-slate-900">0</span><span class="text-slate-500 -mt-1 text-xl">Overall Score</span></div>
                            </div>
                            <div id="category-scores" class="space-y-4 text-left"></div>
                        </div>
                        <div id="feedback-section" class="mt-12 text-left border-t border-slate-200 pt-8">
                            <h3 class="text-2xl font-bold mb-4">Top Opportunities</h3>
                            <div id="feedback-list" class="space-y-6"></div>
                        </div>
                        <div class="mt-12 border-t border-slate-200 pt-8 text-center">
                            <h3 class="text-2xl font-bold text-slate-800 mb-2">Ready to Turn Insights into Action?</h3>
                            <p class="text-slate-600 max-w-xl mx-auto mb-6">This free report shows your biggest opportunities. The full, detailed report provides a step-by-step guide to fixing these issues and increasing conversions.</p>
                            <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
                                <button id="restart-btn" class="w-full sm:w-auto bg-slate-200 text-slate-800 font-bold py-3 px-8 rounded-lg hover:bg-slate-300 transition">Analyze Another Site</button>
                                <button id="order-advanced-btn" class="w-full sm:w-auto bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-transform transform hover:scale-105">Get the Full Report for $19.99</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="advanced-report-screen" class="hidden">
                    <div id="purchase-modal" class="fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center p-4 fade-in z-50">
                        <div class="bg-white rounded-2xl shadow-xl max-w-md w-full p-8 text-center slide-in-up">
                            <h2 class="text-2xl font-bold mb-2">Unlock Your Detailed Report</h2>
                            <p class="text-slate-600 mb-6">Get the full, detailed report with all the steps to improve your site.</p>
                            <div class="bg-slate-100 p-6 rounded-lg mb-6"><div class="flex justify-between items-center text-lg"><span class="font-medium">Detailed Website Report</span><span class="font-bold text-indigo-600">$19.99</span></div></div>
                            <button id="stripe-purchase-btn" class="w-full bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition">Secure Payment</button>
                            <button id="cancel-purchase-btn" class="mt-3 text-sm text-slate-500 hover:text-slate-700">Cancel and go back</button>
                        </div>
                    </div>
                    <div id="advanced-report-content" class="hidden bg-white p-8 rounded-2xl shadow-lg">
                        <div id="advanced-url" class="mb-4 text-sm text-indigo-700 font-semibold break-all"></div>
                        <div class="no-print flex justify-between items-center mb-8 border-b border-slate-200 pb-4"><h2 class="text-3xl font-bold">Detailed Report</h2></div>
                        <div id="advanced-feedback-list" class="space-y-8"></div>
                        <div id="ab-test-accordion" class="hidden no-print mt-12">
                            <button id="ab-test-toggle" class="w-full text-left font-bold text-xl p-4 bg-slate-100 rounded-lg flex justify-between items-center hover:bg-slate-200 transition">
                                <span>Bonus: A/B Test Ideas for Experts</span>
                                <svg id="ab-test-arrow" class="w-6 h-6 transition-transform" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </button>
                            <div id="ab-test-content" class="hidden p-4 border border-t-0 border-slate-200 rounded-b-lg">
                                <div id="ab-test-list" class="space-y-3"></div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

        // --- Tool's DOM ELEMENTS ---
        const startScreen = document.getElementById("start-screen");
        const processingScreen = document.getElementById("processing-screen");
        const resultsScreen = document.getElementById("results-screen");
        const advancedReportScreen = document.getElementById(
          "advanced-report-screen"
        );
        const purchaseModal = document.getElementById("purchase-modal");
        const advancedReportContent = document.getElementById(
          "advanced-report-content"
        );
        const startBtn = document.getElementById("start-btn");
        const restartBtn = document.getElementById("restart-btn");
        const orderAdvancedBtn = document.getElementById("order-advanced-btn");
        const cancelPurchaseBtn = document.getElementById(
          "cancel-purchase-btn"
        );
        const nameInput = document.getElementById("eval_name_input");
        const emailInput = document.getElementById("eval_email_input");
        const websiteUrlInput = document.getElementById(
          "eval_website_url_input"
        );
        const newsletterCheckbox = document.getElementById(
          "newsletter_checkbox"
        );
        const nameError = document.getElementById("name-error");
        const emailError = document.getElementById("email-error");
        const urlError = document.getElementById("url-error");
        const trackerContainer = document.getElementById("tracker-container");
        const overallScoreText = document.getElementById("overall-score-text");
        const scoreCircle = document.getElementById("score-circle");
        const categoryScoresContainer =
          document.getElementById("category-scores");
        const feedbackList = document.getElementById("feedback-list");
        const resultsUrl = document.getElementById("results-url");
        const advancedUrl = document.getElementById("advanced-url");
        const advancedFeedbackList = document.getElementById(
          "advanced-feedback-list"
        );
        const abTestAccordion = document.getElementById("ab-test-accordion");
        const abTestToggle = document.getElementById("ab-test-toggle");
        const abTestContent = document.getElementById("ab-test-content");
        const abTestArrow = document.getElementById("ab-test-arrow");
        const abTestList = document.getElementById("ab-test-list");

        let aiReportData = null;

        function isValidUrl(string) {
          try {
            new URL(string);
            return true;
          } catch (_) {
            return false;
          }
        }
        function isValidEmail(email) {
          return /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
            String(email).toLowerCase()
          );
        }

        function startEvaluation() {
          let isValid = true;
          let urlToTest = websiteUrlInput.value.trim();
          if (!/^https?:\/\//i.test(urlToTest) && urlToTest.length > 0) {
            urlToTest = "https://" + urlToTest;
            websiteUrlInput.value = urlToTest;
          }
          if (!nameInput.value.trim()) {
            nameError.classList.remove("hidden");
            isValid = false;
          } else {
            nameError.classList.add("hidden");
          }
          if (!isValidEmail(emailInput.value.trim())) {
            emailError.classList.remove("hidden");
            isValid = false;
          } else {
            emailError.classList.add("hidden");
          }
          if (!isValidUrl(urlToTest)) {
            urlError.classList.remove("hidden");
            isValid = false;
          } else {
            urlError.classList.add("hidden");
          }
          if (!isValid) return;

          startScreen.classList.add("fade-out");
          setTimeout(() => {
            startScreen.classList.add("hidden");
            processingScreen.classList.remove("hidden");
            processingScreen.classList.add("fade-in");
            runAutomatedChecks(
              nameInput.value.trim(),
              emailInput.value.trim(),
              urlToTest,
              newsletterCheckbox.checked
            );
          }, 500);
        }

        function runTrackerAnimation(onComplete) {
          const checks = [
            { id: "db-save", name: "Saving your request..." },
            { id: "ai-call", name: "Sending to our AI..." },
            { id: "parsing", name: "Translating robot language..." },
            { id: "report", name: "Making it look pretty..." },
          ];
          trackerContainer.innerHTML = "";
          checks.forEach((check) => {
            trackerContainer.innerHTML += `<div id="tracker-${check.id}" class="tracker-item flex items-center p-4 bg-slate-100 rounded-lg"><div class="tracker-icon w-6 h-6 mr-4 flex-shrink-0 flex items-center justify-center"><svg class="pending-icon text-slate-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" /></svg><svg class="spinner text-indigo-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg><svg class="checkmark text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg></div><span class="tracker-text font-medium text-slate-700">${check.name}</span></div>`;
          });
          let currentCheckIndex = 0;
          const interval = setInterval(() => {
            if (currentCheckIndex > 0)
              document
                .getElementById(`tracker-${checks[currentCheckIndex - 1].id}`)
                .classList.add("complete");
            if (currentCheckIndex < checks.length) {
              document
                .getElementById(`tracker-${checks[currentCheckIndex].id}`)
                .classList.add("in-progress");
              currentCheckIndex++;
            } else {
              clearInterval(interval);
              onComplete();
            }
          }, 1200);
        }

        function runAutomatedChecks(name, email, url, newsletter) {
          let trackerDone = false,
            apiDone = false,
            apiError = null;
          const formData = new FormData();
          formData.append("name", name);
          formData.append("email", email);
          formData.append("website_url", url);
          formData.append("newsletter", newsletter ? "1" : "0");
          fetch("api_handler.php", { method: "POST", body: formData })
            .then((response) => response.json())
            .then((data) => {
              if (data.error) throw new Error(data.error);
              aiReportData = data;
            })
            .catch((error) => {
              apiError = error.message;
            })
            .finally(() => {
              apiDone = true;
              if (trackerDone) showResults(apiError);
            });
          runTrackerAnimation(() => {
            trackerDone = true;
            if (apiDone) showResults(apiError);
          });
        }

        function showResults(error = null) {
          if (error || !aiReportData) {
            alert(
              `An error occurred: ${error || "Could not retrieve AI report."}`
            );
            restart();
            return;
          }
          processingScreen.classList.add("fade-out");
          setTimeout(() => {
            processingScreen.classList.add("hidden");
            resultsScreen.classList.remove("hidden");
            resultsScreen.classList.add("fade-in");
            resultsUrl.textContent = "Analyzed Site: " + websiteUrlInput.value;
            displayInitialReport();
          }, 500);
        }

        function displayInitialReport() {
          const { overallScore, basicReport } = aiReportData;
          const { scores, topOpportunities } = basicReport;
          const metricDescriptions = {
            HeroClarity: "How clear is your main message?",
            VisualDesignLayout: "How professional does it look?",
            CallToAction: "Is it obvious what to do next?",
            ReadabilityTypography: "Is the text easy to read?",
            SocialProofTrust: "Does your site build trust?",
          };
          const scoresArray = Object.keys(scores).map((key) => ({
            metric: key,
            score: scores[key],
          }));
          categoryScoresContainer.innerHTML = "";
          scoresArray.forEach((cat, index) => {
            const colors = getScoreColor(cat.score);
            categoryScoresContainer.innerHTML += `<div class="slide-in-up" style="animation-delay: ${
              index * 100
            }ms"><div class="flex justify-between items-center mb-1"><span class="font-semibold">${formatMetricName(
              cat.metric
            )}</span><span class="text-sm font-bold ${colors.bg} ${
              colors.text
            } px-2.5 py-1 rounded-md">${
              cat.score
            }</span></div><p class="text-sm text-slate-500 text-left mb-2">${
              metricDescriptions[cat.metric] || ""
            }</p><div class="w-full bg-slate-200 rounded-full h-2.5"><div class="h-2.5 rounded-full ${
              colors.bar
            }" style="width: ${cat.score}%"></div></div></div>`;
          });
          feedbackList.innerHTML = "";
          topOpportunities.forEach((opp) => {
            feedbackList.innerHTML += `<div class="flex gap-4"><div class="w-12 h-12 rounded-full bg-indigo-100 text-indigo-600 flex-shrink-0 flex items-center justify-center font-bold text-lg">💡</div><div><p class="text-slate-600">${opp}</p></div></div>`;
          });
          let currentScore = 0;
          const scoreInterval = setInterval(() => {
            if (currentScore >= overallScore) {
              clearInterval(scoreInterval);
              overallScoreText.textContent = overallScore;
            } else {
              currentScore++;
              overallScoreText.textContent = currentScore;
            }
          }, 20);
          const circle = scoreCircle;
          const circumference = circle.r.baseVal.value * 2 * Math.PI;
          const offset = circumference - (overallScore / 100) * circumference;
          setTimeout(() => {
            circle.style.strokeDashoffset = offset;
          }, 200);
        }

        function showAdvancedReportFlow() {
          resultsScreen.classList.add("fade-out");
          setTimeout(() => {
            resultsScreen.classList.add("hidden");
            advancedReportScreen.classList.remove("hidden");
            purchaseModal.classList.remove("hidden");
            advancedUrl.textContent = "Analyzed Site: " + websiteUrlInput.value;
          }, 500);
        }

        function generateAdvancedFeedback() {
          if (!aiReportData || !aiReportData.advancedReport) {
            advancedFeedbackList.innerHTML = `<p class="text-red-500">Could not display the detailed report.</p>`;
            return;
          }
          const { scores, advancedFeedback, abTestIdeas } =
            aiReportData.advancedReport;
          const metricIcons = {
            HeroClarity: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>`,
            VisualDesignLayout: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>`,
            CallToAction: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 15h14"/><path d="m12 5 7 10H5Z"/></svg>`,
            ReadabilityTypography: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16"/><path d="M4 12h16"/><path d="M4 18h16"/></svg>`,
            SocialProofTrust: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>`,
            HeroTrustSignals: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>`,
            PersuasiveCopy: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"/></svg>`,
            AttentionRatio: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20v-6M6 20v-4M18 20v-2"/></svg>`,
            NavigationClarity: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>`,
            AccessibilityContrast: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 18a6 6 0 0 0 0-12v12z"/></svg>`,
            MobileResponsiveHints: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></svg>`,
          };
          const feedbackArray = Object.keys(advancedFeedback).map((key) => ({
            category: key,
            ...advancedFeedback[key],
          }));
          advancedFeedbackList.innerHTML = "";
          feedbackArray.forEach((catFeedback) => {
            const scoreValue = scores[catFeedback.category] || -1;
            const colors = getScoreColor(scoreValue);
            const icon =
              metricIcons[catFeedback.category] ||
              metricIcons.VisualDesignLayout;
            advancedFeedbackList.innerHTML += `<div class="p-6 border border-slate-200 rounded-xl"><div class="flex gap-6 items-start"><div class="flex-shrink-0 flex flex-col items-center"><div class="w-16 h-16 rounded-full ${
              colors.bg
            } ${
              colors.text
            } flex-shrink-0 flex items-center justify-center font-bold text-2xl">${
              scoreValue === -1 ? "N/A" : scoreValue
            }</div><div class="w-12 h-12 mt-3 flex items-center justify-center text-slate-500">${icon}</div></div><div class="flex-grow"><h3 class="text-2xl font-bold">${formatMetricName(
              catFeedback.category
            )}</h3><div class="mt-2 text-slate-700 leading-relaxed space-y-3"><p>${
              catFeedback.feedback
            }</p><p class="p-3 bg-slate-50 border-l-4 border-slate-200 italic"><span class="font-semibold not-italic">Example:</span> ${
              catFeedback.example
            }</p></div></div></div></div>`;
          });
          if (Array.isArray(abTestIdeas) && abTestIdeas.length > 0) {
            abTestAccordion.classList.remove("hidden");
            abTestList.innerHTML = "";
            abTestIdeas.forEach((idea) => {
              abTestList.innerHTML += `<div class="bg-slate-100 p-3 rounded-lg flex items-start gap-3"><span class="text-indigo-500 font-bold">Test:</span><p class="text-slate-700">${idea}</p></div>`;
            });
          }
        }

        function getScoreColor(percentage) {
          if (percentage === -1)
            return { bg: "bg-slate-100", text: "text-slate-500" };
          if (percentage >= 85)
            return {
              bg: "bg-green-100",
              text: "text-green-800",
              bar: "bg-green-500",
            };
          if (percentage >= 50)
            return {
              bg: "bg-yellow-100",
              text: "text-yellow-800",
              bar: "bg-yellow-500",
            };
          return { bg: "bg-red-100", text: "text-red-800", bar: "bg-red-500" };
        }
        function formatMetricName(name) {
          return name.replace(/([A-Z])/g, " $1").trim();
        }
        function restart() {
          const currentScreen = document.querySelector(
            "#evaluation-tool-container > div:not(.hidden)"
          );
          if (currentScreen) {
            currentScreen.classList.add("fade-out");
            setTimeout(() => {
              currentScreen.classList.add("hidden");
              startScreen.classList.remove("hidden", "fade-out");
              startScreen.classList.add("fade-in");
              websiteUrlInput.value = "";
              emailInput.value = "";
              nameInput.value = "";
            }, 500);
          }
        }

        startBtn.addEventListener("click", startEvaluation);
        restartBtn.addEventListener("click", restart);
        orderAdvancedBtn.addEventListener("click", showAdvancedReportFlow);
        cancelPurchaseBtn.addEventListener("click", () => {
          advancedReportScreen.classList.add("hidden");
          resultsScreen.classList.remove("hidden", "fade-out");
          resultsScreen.classList.add("fade-in");
        });

        document
          .getElementById("stripe-purchase-btn")
          .addEventListener("click", () => {
            purchaseModal.classList.add("hidden");
            advancedReportContent.classList.remove("hidden");
            generateAdvancedFeedback();
          });

        abTestToggle.addEventListener("click", () => {
          abTestContent.classList.toggle("hidden");
          abTestArrow.classList.toggle("rotate-180");
        });

        // Modal logic for policies
        function openModal(modalId) {
          const modal = document.getElementById(modalId);
          if (!modal) return;
          modal.classList.remove("pointer-events-none", "hidden");
          document.body.style.overflow = "hidden";
        }
        window.openModal = openModal;

        function closeModal(modalId) {
          const modal = document.getElementById(modalId);
          if (!modal) return;
          modal.classList.add("pointer-events-none", "hidden");
          document.body.style.overflow = "";
        }
        window.closeModal = closeModal;

        // Portfolio Modal Functions
        window.openPortfolioModal = function (imgSrc) {
          const modal = document.getElementById("portfolioModal");
          document.getElementById("modalImage").src = imgSrc;
          modal.classList.remove("pointer-events-none", "hidden");
          setTimeout(() => {
            document.getElementById("modalBg").classList.add("opacity-100");
            document
              .getElementById("modalContent")
              .classList.add("opacity-100", "scale-100");
          }, 10);
          document.body.style.overflow = "hidden";
        };
        window.closePortfolioModal = function () {
          const modal = document.getElementById("portfolioModal");
          document.getElementById("modalBg").classList.remove("opacity-100");
          document
            .getElementById("modalContent")
            .classList.remove("opacity-100", "scale-100");
          setTimeout(() => {
            modal.classList.add("pointer-events-none", "hidden");
            document.body.style.overflow = "";
          }, 300);
        };
      });


// pdf download
function downloadReport() {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                if (!aiReportData) {
                    doc.text("No report data available.", 10, 10);
                    doc.save('AI-Website-Report.pdf');
                    return;
                }

                const { overallScore, advancedReport } = aiReportData;
                const { scores, advancedFeedback, abTestIdeas } = advancedReport;

                let yPos = 20;
                const leftMargin = 15;
                const rightMargin = 195;
                const lineSpacing = 7;

                // Add analyzed URL at the top
                if (analyzedUrl) {
                    doc.setFontSize(11);
                    doc.setTextColor(54, 78, 163);
                    doc.text(`Analyzed Site: ${analyzedUrl}`, leftMargin, yPos);
                    yPos += lineSpacing * 1.5;
                    doc.setTextColor(0, 0, 0);
                }

                doc.setFontSize(22);
                doc.setFont('helvetica', 'bold');
                doc.text('AI-Powered Website Evaluation', leftMargin, yPos);
                yPos += lineSpacing * 2;

                doc.setFontSize(16);
                doc.text(`Overall Score: ${overallScore}`, leftMargin, yPos);
                yPos += lineSpacing * 2;

                const feedbackArray = Object.keys(advancedFeedback).map(key => ({ category: key, ...advancedFeedback[key] }));

                feedbackArray.forEach(catFeedback => {
                    if (yPos > 260) { // Check if new page is needed
                        doc.addPage();
                        yPos = 20;
                    }
                    
                    const scoreValue = scores[catFeedback.category];
                    const scoreText = scoreValue === -1 ? 'N/A' : scoreValue;
                    const formattedName = formatMetricName(catFeedback.category);
                    
                    doc.setFontSize(14);
                    doc.setFont('helvetica', 'bold');
                    doc.text(`${formattedName} (Score: ${scoreText})`, leftMargin, yPos);
                    yPos += lineSpacing;

                    doc.setFontSize(11);
                    doc.setFont('helvetica', 'normal');
                    
                    const feedbackLines = doc.splitTextToSize(catFeedback.feedback, rightMargin - leftMargin);
                    doc.text(feedbackLines, leftMargin, yPos);
                    yPos += feedbackLines.length * lineSpacing;

                    const exampleLines = doc.splitTextToSize(`Example: ${catFeedback.example}`, rightMargin - leftMargin - 5);
                    doc.setFont('helvetica', 'italic');
                    doc.text(exampleLines, leftMargin + 5, yPos);
                    yPos += exampleLines.length * lineSpacing + (lineSpacing * 1.5);
                });

                if (Array.isArray(abTestIdeas) && abTestIdeas.length > 0) {
                     if (yPos > 250) {
                        doc.addPage();
                        yPos = 20;
                    }
                    doc.setFontSize(14);
                    doc.setFont('helvetica', 'bold');
                    doc.text('A/B Test Ideas', leftMargin, yPos);
                    yPos += lineSpacing;
                    
                    doc.setFontSize(11);
                    doc.setFont('helvetica', 'normal');
                    abTestIdeas.forEach(idea => {
                        const ideaLines = doc.splitTextToSize(`- ${idea}`, rightMargin - leftMargin);
                        doc.text(ideaLines, leftMargin, yPos);
                        yPos += ideaLines.length * lineSpacing;
                    });
                }

                // Add blurb at the bottom of the last page
                if (yPos > 240) {
                    doc.addPage();
                    yPos = 20;
                }
                yPos = Math.max(yPos, 250); // Push to bottom if not already
                doc.setFontSize(12);
                doc.setFont('helvetica', 'bold');
                doc.setTextColor(54, 78, 163);
                doc.textWithLink('Need more website help? Visit withsparkdesign.com', leftMargin, yPos + 15, { url: 'https://www.withsparkdesign.com' });
                doc.setTextColor(0, 0, 0);

                doc.save('AI-Website-Report.pdf');
            }



// basic functions 


  // Modal Functions
      function openPortfolioModal(imgSrc) {
        const modal = document.getElementById("portfolioModal");
        const modalBg = document.getElementById("modalBg");
        const modalContent = document.getElementById("modalContent");
        const modalImg = document.getElementById("modalImage");
        modalImg.src = imgSrc;
        modal.classList.remove("pointer-events-none", "hidden");
        setTimeout(() => {
          modalBg.classList.add("opacity-100");
          modalBg.classList.remove("opacity-0");
          modalContent.classList.add("opacity-100", "scale-100");
          modalContent.classList.remove("opacity-0", "scale-95");
        }, 10);
        document.body.style.overflow = "hidden";
      }

      function closePortfolioModal() {
        const modal = document.getElementById("portfolioModal");
        const modalBg = document.getElementById("modalBg");
        const modalContent = document.getElementById("modalContent");
        modalBg.classList.remove("opacity-100");
        modalBg.classList.add("opacity-0");
        modalContent.classList.remove("opacity-100", "scale-100");
        modalContent.classList.add("opacity-0", "scale-95");
        setTimeout(() => {
          modal.classList.add("pointer-events-none", "hidden");
          document.body.style.overflow = "";
        }, 300);
      }

      function openModal(modalId) {
        const modal = document.getElementById(modalId);
        if (!modal) return;
        modal.classList.remove("pointer-events-none", "hidden");
        document.body.style.overflow = "hidden";
      }

      function closeModal(modalId) {
        const modal = document.getElementById(modalId);
        if (!modal) return;
        modal.classList.add("pointer-events-none", "hidden");
        document.body.style.overflow = "";
      }

      document.addEventListener("DOMContentLoaded", function () {
        // Close modal on background click
        const modals = ["portfolioModal", "privacyModal", "termsModal"];
        modals.forEach((id) => {
          const modal = document.getElementById(id);
          if (modal) {
            modal.addEventListener("click", function (e) {
              if (
                e.target === modal ||
                e.target.id === "modalBg" ||
                e.target.classList.contains("bg-opacity-70")
              ) {
                id === "portfolioModal"
                  ? closePortfolioModal()
                  : closeModal(id);
              }
            });
          }
        });

        // FAQ Accordion
        document.querySelectorAll(".faq-toggle").forEach((button) => {
          button.addEventListener("click", () => {
            const content = document.getElementById(button.dataset.faq);
            const arrow = button.querySelector("svg");
            const isExpanded = button.getAttribute("aria-expanded") === "true";

            button.setAttribute("aria-expanded", !isExpanded);
            content.classList.toggle("hidden");
            arrow.classList.toggle("rotate-180");
          });
        });

        // Scroll Animation Observer
        const animationElements =
          document.querySelectorAll(".animate-on-scroll");
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("is-visible");
              }
            });
          },
          {
            threshold: 0.1,
          }
        );

        animationElements.forEach((el) => {
          observer.observe(el);
        });
      });



    </script>

   
  </body>
</html>
