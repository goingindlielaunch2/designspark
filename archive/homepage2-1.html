<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Website Handyman - by DesignSpark: Fix Your Broken Website</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#6366f1",
                        secondary: "#8b5cf6",
                        accent: "#06b6d4",
                    },
                },
            },
        };
    </script>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: "Inter", sans-serif;
        }
        
        /* Animation and Tool Specific Styles */
        .fade-in { animation: fadeIn 0.5s ease-in-out forwards; }
        .fade-out { animation: fadeOut 0.5s ease-in-out forwards; }
        .slide-in-up { animation: slideInUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; }
        .score-circle {
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 1.5s ease-out;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
        @keyframes slideInUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        .tracker-item { transition: all 0.4s ease-in-out; opacity: 0.5; transform: scale(0.95); }
        .tracker-item.in-progress { opacity: 1; transform: scale(1.05); background-color: white; box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
        .tracker-item.complete { opacity: 1; transform: scale(1); }
        .tracker-icon .spinner, .tracker-icon .checkmark { display: none; }
        .tracker-icon .pending-icon { display: block; }
        .in-progress .tracker-icon .spinner { display: block; animation: spin 1s linear infinite; }
        .in-progress .tracker-icon .pending-icon { display: none; }
        .complete .tracker-icon .checkmark { display: block; }
        .complete .tracker-icon .pending-icon { display: none; }
        .complete .tracker-text { text-decoration: line-through; color: #64748b; }
        
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .delay-1 { transition-delay: 150ms; }
        .delay-2 { transition-delay: 300ms; }
        .delay-3 { transition-delay: 450ms; }
        .delay-4 { transition-delay: 600ms; }

        @media print {
            body * { visibility: hidden; }
            #advanced-report-content, #advanced-report-content * { visibility: visible; }
            #advanced-report-content { position: absolute; left: 0; top: 0; width: 100%; padding: 2rem; }
            .no-print { display: none !important; }
        }
    </style>
</head>

<body class="bg-gray-50 text-slate-800">
    <header class="w-full bg-white shadow-sm fixed top-0 left-0 z-40 no-print">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-20">
            <a href="/" class="flex items-center space-x-3 group">
                <svg class="w-10 h-10 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
                <span class="text-lg font-bold text-gray-900 group-hover:text-primary transition-colors">DesignSpark -
                    <span class="bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">Website
                        Handyman</span></span>
            </a>
            <nav class="flex items-center space-x-4">
                <a href="/manageone/login.php"
                    class="text-gray-700 hover:text-primary font-medium px-4 py-2 rounded transition-colors">Login</a>
                <a class="bg-gradient-to-r from-primary to-secondary text-white px-5 py-2 rounded-xl font-semibold shadow hover:scale-105 transition-transform"
                    href="https://calendly.com/david-withdesignspark/30min" target="_blank">Book a Call</a>
                <a href="#pricing"
                    class="text-primary hover:text-secondary font-semibold px-4 py-2 rounded transition-colors underline underline-offset-4 hover:no-underline">See
                    Pricing</a>
            </nav>
        </div>
    </header>

    <main class="no-print">
        <div class="h-20"></div>

        <!-- Hero Section -->
        <section class="bg-gray-50 min-h-screen flex items-center justify-center px-4 py-20">
            <div class="max-w-6xl mx-auto text-center">
                 <h1 class="text-5xl md:text-7xl font-bold mb-6 leading-tight text-gray-900">
                    Broken Website?
                    <span
                        class="bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">Fixed in
                        Hours!</span>
                </h1>
                <p class="text-xl md:text-2xl mb-12 text-gray-600 max-w-3xl mx-auto leading-relaxed">
                    Get back online fast and reclaim your business! Website design & repair and design services that
                    get you back online and optimized in no time.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-12">
                    <button onclick="scrollToPricing()"
                        class="bg-gradient-to-r from-primary to-secondary text-white px-10 py-4 rounded-full text-lg font-semibold inline-flex items-center space-x-2 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl relative overflow-hidden group active:scale-95 active:brightness-90">
                        <span class="relative z-10">Get Started Now</span>
                        <svg class="w-5 h-5 relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                        </svg>
                    </button>
                    <button onclick="scrollToEvaluation()"
                        class="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-10 py-4 rounded-full text-lg font-semibold inline-flex items-center space-x-2 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl active:scale-95 active:brightness-90">
                        <span>Free Website Evaluation</span>
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- ================================================================= -->
        <!-- START: WEBSITE EVALUATION TOOL SECTION -->
        <!-- ================================================================= -->
        <section id="website-evaluation" class="bg-slate-100 py-20 px-4">
            <div id="evaluation-tool-container" class="max-w-4xl mx-auto">
                <!-- This container will be dynamically filled by JavaScript -->
            </div>
        </section>
        <!-- ================================================================= -->
        <!-- END: WEBSITE EVALUATION TOOL SECTION -->
        <!-- ================================================================= -->

        <section id="portfolio" class="py-20 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12 animate-on-scroll">
                    <h2 class="text-4xl font-bold text-gray-900 mb-4">Portfolio</h2>
                    <p class="text-xl text-gray-600">A selection of my recent work</p>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
                    <div class="relative group cursor-pointer animate-on-scroll"
                        onclick="openPortfolioModal('images/dental-website-design.jpg')">
                        <img src="images/dental-website-design.jpg" alt="Website Design - dental-website-design.jpg"
                            class="rounded-2xl shadow-lg w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105" />
                    </div>
                    <div class="relative group cursor-pointer animate-on-scroll delay-1"
                        onclick="openPortfolioModal('images/gripsock-ecommerce-website-design.jpg')">
                        <img src="images/gripsock-ecommerce-website-design.jpg"
                            alt="Website Design - gripsock-ecommerce-website-design.jpg"
                            class="rounded-2xl shadow-lg w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105" />
                    </div>
                    <div class="relative group cursor-pointer animate-on-scroll delay-2"
                        onclick="openPortfolioModal('images/payment-website-design.jpg')">
                        <img src="images/payment-website-design.jpg" alt="Website Design - payment-website-design.jpg"
                            class="rounded-2xl shadow-lg w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105" />
                    </div>
                </div>
            </div>
            <div id="portfolioModal"
                class="fixed inset-0 z-50 pointer-events-none hidden flex items-center justify-center">
                <div id="modalBg"
                    class="absolute inset-0 bg-black bg-opacity-70 opacity-0 transition-opacity duration-300">
                </div>
                <div id="modalContent"
                    class="relative max-w-3xl w-full mx-4 opacity-0 scale-95 transition-all duration-300 transform">
                    <button onclick="closePortfolioModal()"
                        class="absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-80 focus:outline-none z-10 active:scale-95 active:bg-opacity-90">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12">
                            </path>
                        </svg>
                    </button>
                    <img id="modalImage" src="" alt="Portfolio Large"
                        class="rounded-2xl shadow-2xl w-full max-h-[80vh] object-contain bg-white" />
                </div>
            </div>
        </section>

        <section id="pricing" class="py-20 px-4 bg-white">
            <div class="container mx-auto">
                <div class="text-center mb-16 animate-on-scroll">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">
                        Simple, Transparent Pricing
                    </h2>
                    <p class="text-gray-600 max-w-2xl mx-auto">
                        Choose the plan that works best for your website needs, from
                        one-time fixes to ongoing maintenance.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div
                        class="bg-white rounded-xl shadow-lg overflow-hidden transition-transform hover:scale-105 flex flex-col h-full animate-on-scroll">
                        <div class="p-6 flex-1 flex flex-col">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4">
                                Quick Fix
                            </h3>
                            <div class="flex items-baseline mb-6">
                                <span class="text-4xl font-bold text-gray-800">$99</span>
                                <span class="text-gray-500 ml-2">/ one-time</span>
                            </div>
                            <p class="text-gray-600 mb-6">
                                Perfect for small issues that need immediate attention.
                            </p>
                            <ul class="space-y-3 mb-8">
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span>Fix 1 specific issue</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span>48-hour turnaround</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span>30-day guarantee</span>
                                </li>
                            </ul>
                        </div>
                        <div class="px-6 pb-6 mt-auto">
                            <button
                                class="w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition active:bg-gray-400 active:text-gray-900 active:scale-95 active:brightness-90"
                                style="transition: background 0.2s, color 0.2s, transform 0.1s">
                                Get Started
                            </button>
                        </div>
                    </div>

                    <div
                        class="bg-indigo-600 rounded-xl shadow-xl overflow-hidden transform scale-105 z-10 flex flex-col h-full animate-on-scroll delay-1">
                        <div class="bg-indigo-700 py-2">
                            <p class="text-center text-white font-medium">MOST POPULAR</p>
                        </div>
                        <div class="p-6 flex-1 flex flex-col">
                            <h3 class="text-xl font-semibold text-white mb-4">
                                Monthly Club
                            </h3>
                            <div class="flex items-baseline mb-6">
                                <span class="text-4xl font-bold text-white">$1999</span>
                                <span class="text-indigo-200 ml-2">/ month</span>
                            </div>
                            <p class="text-indigo-100 mb-6">
                                Ongoing support to keep your website in top shape.
                            </p>
                            <ul class="space-y-3 mb-8">
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span class="text-white">One task at a time</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span class="text-white">Average 48-hour delivery</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span class="text-white">Unlimited Brands</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span class="text-white">Unlimited Site Fixes</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span class="text-white">Monthly Site UX Insights Report</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span class="text-white">Unlimited Stock Photos</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span class="text-white">Webflow or Framer Development</span>
                                </li>

                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-300 mr-2 mt-0.5"
                                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span class="text-white">Pause or Cancel Anytime</span>
                                </li>
                            </ul>
                        </div>
                        <div class="px-6 pb-6 mt-auto">
                            <button
                                class="w-full bg-white hover:bg-gray-200 text-indigo-900 font-medium py-3 rounded-lg transition pulse active:bg-gray-300 active:text-indigo-800 active:scale-95 active:brightness-90"
                                style="transition: background 0.2s, color 0.2s, transform 0.1s">
                                Subscribe Now
                            </button>
                        </div>
                    </div>

                    <div
                        class="bg-white rounded-xl shadow-lg overflow-hidden transition-transform hover:scale-105 flex flex-col h-full animate-on-scroll delay-2">
                        <div class="p-6 flex-1 flex flex-col">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4">
                                Website Overhaul
                            </h3>
                            <div class="flex items-baseline mb-6">
                                <span class="text-4xl font-bold text-gray-800">$3999</span>
                                <span class="text-gray-500 ml-2">/ one-time</span>
                            </div>
                            <p class="text-gray-600 mb-6">
                                Complete redesign and optimization of your existing website.
                            </p>
                            <ul class="space-y-3 mb-8">
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24"
                                        stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span>Full design refresh</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24"
                                        stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span>UX and conversion focused</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24"
                                        stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span>Mobile optimization</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24"
                                        stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span>Speed optimization</span>
                                </li>
                                <li class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24"
                                        stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span>SEO improvements</span>
                                </li>
                            </ul>
                        </div>
                        <div class="px-6 pb-6 mt-auto">
                            <button
                                class="w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-lg transition active:bg-gray-400 active:text-gray-900 active:scale-95 active:brightness-90"
                                style="transition: background 0.2s, color 0.2s, transform 0.1s">
                                Get Started
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="px-6 py-20 md:px-12 bg-white">
            <div class="max-w-4xl mx-auto">
                <h2 id="faq" class="text-3xl md:text-4xl font-bold text-center mb-16 animate-on-scroll">
                    Frequently Asked Questions
                </h2>

                <div class="mb-12">
                    <h3 class="text-2xl font-bold text-center mb-8 text-primary">Monthly Club</h3>
                    <div class="space-y-4" id="faq-accordion-monthly">
                        <div class="bg-card rounded-lg overflow-hidden animate-on-scroll">
                            <button
                                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                                data-faq="faq-1" aria-expanded="false">
                                <span>How fast will I receive my designs / tasks?</span>
                                <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                                    </path>
                                </svg>
                            </button>
                            <div class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg" id="faq-1">
                                Most requests are completed in two days or less. If you send over
                                something more complex, it might take a bit more time, but I'll
                                always keep you updated on the progress.
                            </div>
                        </div>
                        <div class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-1">
                            <button
                                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                                data-faq="faq-4" aria-expanded="false">
                                <span>Is there a limit to how many requests I can make?</span>
                                <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                                    </path>
                                </svg>
                            </button>
                            <div class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg" id="faq-4">
                                Nope! Feel free to fill up your queue with as many design / development requests
                                as you can think of. I'll get to work on them and deliver them
                                back to you one by one.
                            </div>
                        </div>
                         <div class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-2">
                            <button
                                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                                data-faq="faq-5" aria-expanded="false">
                                <span>How do Monthly site fixes work?</span>
                                <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                                    </path>
                                </svg>
                            </button>
                            <div class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg" id="faq-5">
                                The development process is straightforward. These are treated the same as 'design requests', As long as your request is supported by your website platform, DesignSpark will handle the fix and development for you. Just submit your fix request, and I'll take care of the rest.
                            </div>
                        </div>
                        <div class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-3">
                            <button
                                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                                data-faq="faq-6" aria-expanded="false">
                                <span>How does webflow, framer development work?</span>
                                <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                                    </path>
                                </svg>
                            </button>
                            <div class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg" id="faq-6">
                                The development process is straightforward. These are treated the same as 'design requests'.  As long as your request is supported by webflow or framer, DesignSpark will handle the development for you. Just submit your design request, and I'll take care of the rest.

                                Once the design is ready, I'll build it out in Webflow or Framer, ensuring everything looks and works perfectly. You'll receive a link to review the live site before we finalize everything. And the website will be transferred to your account, so you have full ownership and control. At that point a new subscription will not be required to maintain the website.
                            </div>
                        </div>
                        <div class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-4">
                            <button
                                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                                data-faq="faq-8" aria-expanded="false">
                                <span>How does the pause feature work?</span>
                                <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                                    </path>
                                </svg>
                            </button>
                            <div class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg" id="faq-8">
                                Got a quiet spell? I get it. You might not have enough design work
                                for a full month straight. That's why you can pause your
                                subscription anytime.
                                <br /><br />
                                Billing is based on a 31-day cycle. For example, if you use the
                                service for 20 days and then hit pause, you'll still have 11 days
                                of service ready and waiting for whenever you need them next. No
                                wasted days!
                            </div>
                        </div>
                        <div class="bg-card rounded-lg overflow-hidden animate-on-scroll">
                            <button
                                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                                data-faq="faq-9" aria-expanded="false">
                                <span>How do you handle larger requests?</span>
                                <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                                    </path>
                                </svg>
                            </button>
                            <div class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg" id="faq-9">
                                For bigger projects like a full website or app design, I break
                                them down into smaller, manageable milestones. This way, you'll
                                see consistent progress with updates delivered every couple of
                                days until your entire project is complete and looking sharp.
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="text-2xl font-bold text-center mb-8 text-primary">Basic Questions</h3>
                    <div class="space-y-4" id="faq-accordion-basic">
                        <div class="bg-card rounded-lg overflow-hidden animate-on-scroll">
                            <button
                                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                                data-faq="faq-2" aria-expanded="false">
                                <span>How does onboarding work?</span>
                                <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                                    </path>
                                </svg>
                            </button>
                            <div class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg" id="faq-2">
                                Getting started is a breeze. Once you subscribe, I'll set you up
                                with your own private Trello board—usually within the hour. Just
                                accept the invite, and you're ready to start submitting requests!
                                I've left some simple instructions on the board to guide you.
                            </div>
                        </div>
                        <div class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-1">
                            <button
                                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                                data-faq="faq-3" aria-expanded="false">
                                <span>Who are the developers and designers?</span>
                                <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                                    </path>
                                </svg>
                            </button>
                            <div class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg" id="faq-3">
                                You're looking at him! DesignSpark is a one-man creative and web
                                development studio,founded and run by me, David. I handle every
                                project personally from start to finish. This means no middlemen
                                and no outsourcing— just a direct, dedicated partnership with you.
                            </div>
                        </div>
                        <div class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-2">
                            <button
                                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                                data-faq="faq-7" aria-expanded="false">
                                <span>How do quick fixes work?</span>
                                <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                                    </path>
                                </svg>
                            </button>
                            <div class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg" id="faq-7">
                                The development process is straightforward. As long as your request is supported by your current platform, DesignSpark will handle the fix and development for you. Just submit your fix request, and I'll take care of the rest.
                            </div>
                        </div>
                        <div class="bg-card rounded-lg overflow-hidden animate-on-scroll delay-3">
                            <button
                                class="w-full px-6 py-4 text-left font-semibold flex justify-between items-center faq-toggle"
                                data-faq="faq-10" aria-expanded="false">
                                <span>What programs do you design in?</span>
                                <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                                    </path>
                                </svg>
                            </button>
                            <div class="px-6 pb-4 hidden text-gray-600 text-descriptive text-lg" id="faq-10">
                                I primarily use Figma for all design work. It's the industry
                                standard for a reason—it's super collaborative, easy to use, and
                                lets me deliver top-notch designs efficiently. If you have any
                                other file format needs, just let me know, and I'll do my best to
                                accommodate.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="py-20 px-4 bg-white">
            <div class="max-w-lg mx-auto">
                 <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6 text-center">
                    Get In Touch <span class="text-primary">With Us</span>
                </h2>
                <div class="bg-white rounded-3xl shadow-2xl p-8 md:p-12">
                    <form id="contactForm" action="process-contact-form.php" method="POST" class="space-y-6">
                        <div>
                            <label for="contact_name" class="block text-sm font-semibold text-gray-700 mb-2">Your Name</label>
                            <input type="text" id="contact_name" name="name" required class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary" placeholder="John Doe" />
                        </div>
                        <div>
                            <label for="contact_email" class="block text-sm font-semibold text-gray-700 mb-2">Your Email</label>
                            <input type="email" id="contact_email" name="email" required class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary" placeholder="you@example.com" />
                        </div>
                        <div>
                            <label for="contact_message" class="block text-sm font-semibold text-gray-700 mb-2">Message</label>
                            <textarea id="contact_message" name="message" rows="4" required class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary" placeholder="How can we help you?"></textarea>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="w-full bg-gradient-to-r from-primary to-secondary text-white px-8 py-4 rounded-xl text-lg font-semibold hover:scale-105 transition-transform">
                                Send Message
                            </button>
                        </div>
                    </form>
                    <div id="formSuccessMessage" class="hidden text-center p-8">
                        <svg class="w-16 h-16 mx-auto text-green-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <h3 class="text-2xl font-bold text-gray-800">Thank You!</h3>
                        <p class="text-gray-600 mt-2">Your message has been sent successfully.</p>
                    </div>
                    <div id="formErrorMessage" class="hidden text-center mt-4 text-red-600 font-medium p-4 bg-red-100 rounded-lg"></div>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="py-10 px-4 bg-gray-800 no-print">
        <div class="max-w-6xl mx-auto text-center">
            <div class="text-white mb-6">
                &copy; 2025 DesignSpark. All rights reserved.
                <p>Based in Holladay Utah</p>
            </div>
            <div class="flex justify-center items-center space-x-4">
                <a href="#" onclick="openModal('privacyModal');return false;"
                    class="text-gray-400 hover:text-white transition-colors">
                    Privacy Policy
                </a>
                <span class="text-gray-600">|</span>
                <a href="#" onclick="openModal('termsModal');return false;"
                    class="text-gray-400 hover:text-white transition-colors">
                    Terms of Service
                </a>
            </div>
        </div>
    </footer>
    
    <div id="privacyModal" class="fixed inset-0 z-50 pointer-events-none hidden flex items-center justify-center">
        <div onclick="closeModal('privacyModal')" class="absolute inset-0 bg-black bg-opacity-70"></div>
        <div class="relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 p-8">
            <button onclick="closeModal('privacyModal')"
                class="absolute top-2 right-2 text-gray-500 hover:text-gray-900">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>
            <h2 class="text-2xl font-bold mb-4">Privacy Policy</h2>
            <div class="text-gray-700 text-sm space-y-4 max-h-[70vh] overflow-y-auto">
                <p>We respect your privacy and are committed to protecting your personal information. Any information you provide through our website (such as your name, email, or website URL) will only be used to provide our services and communicate with you. We do not sell, rent, or share your information with third parties except as required to deliver our services or comply with the law.</p>
                <p>We use industry-standard security measures to protect your data. By using our website, you consent to our collection and use of your information as described in this policy. If you have any questions about our privacy practices, please contact us.</p>
            </div>
        </div>
    </div>

    <div id="termsModal" class="fixed inset-0 z-50 pointer-events-none hidden flex items-center justify-center">
        <div onclick="closeModal('termsModal')" class="absolute inset-0 bg-black bg-opacity-70"></div>
        <div class="relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 p-8">
            <button onclick="closeModal('termsModal')" class="absolute top-2 right-2 text-gray-500 hover:text-gray-900">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>
            <h2 class="text-2xl font-bold mb-4">Terms of Service</h2>
            <div class="text-gray-700 text-sm space-y-4 max-h-[70vh] overflow-y-auto">
                <p>By using DesignSpark, you agree to the following terms and conditions. Our services are provided "as is" and without warranties of any kind, either express or implied. We strive to deliver high-quality work, but we do not guarantee that your website will be error-free, uninterrupted, or achieve specific results.</p>
                <p><strong>Subscriptions:</strong> If you subscribe to a recurring plan (such as the Monthly Club), you authorize us to charge your payment method on a recurring basis until you pause or cancel your subscription. You may cancel or pause your subscription at any time, and your service will continue until the end of the current billing period. No refunds are provided for partial months.</p>
                <p><strong>Limitation of Liability:</strong> In no event shall DesignSpark, its owners, or affiliates be liable for any direct, indirect, incidental, special, or consequential damages arising from the use or inability to use our services, including but not limited to loss of data, profits, or business interruption. You agree to indemnify and hold us harmless from any claims arising from your use of our services.</p>
                <p><strong>Service Limitations:</strong> We reserve the right to refuse service, terminate accounts, or cancel orders at our sole discretion. We are not responsible for issues caused by third-party platforms, hosting providers, or changes made to your website by you or others after our work is completed.</p>
                <p>These terms may be updated at any time. Continued use of our services constitutes acceptance of any changes.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Smooth scroll function
            function scrollToSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (section) {
                    window.scrollTo({
                        top: section.offsetTop - 80,
                        behavior: "smooth",
                    });
                }
            }
            window.scrollToEvaluation = () => scrollToSection('website-evaluation');
            window.scrollToPricing = () => scrollToSection('pricing');

            // Contact Form AJAX handler
            const contactForm = document.getElementById("contactForm");
            if(contactForm) {
                contactForm.addEventListener("submit", function (e) {
                    e.preventDefault();
                    const form = this;
                    const formData = new FormData(form);
                    fetch('process-contact-form.php', { method: 'POST', body: formData })
                    .then(response => response.json())
                    .then(data => {
                        const successMessage = document.getElementById('formSuccessMessage');
                        const errorMessage = document.getElementById('formErrorMessage');
                        if (data.success) {
                            form.style.display = 'none';
                            successMessage.classList.remove('hidden');
                        } else {
                            errorMessage.textContent = data.message || 'An error occurred.';
                            errorMessage.classList.remove('hidden');
                        }
                    }).catch(error => {
                        document.getElementById('formErrorMessage').textContent = 'A network error occurred.';
                        document.getElementById('formErrorMessage').classList.remove('hidden');
                    });
                });
            }

            // =================================================================
            // START: WEBSITE EVALUATION TOOL JAVASCRIPT
            // =================================================================
            const toolContainer = document.getElementById('evaluation-tool-container');
            
            toolContainer.innerHTML = `
                <div id="start-screen" class="text-center bg-white p-8 rounded-2xl shadow-lg fade-in">
                    <h2 class="text-2xl font-bold mb-4">Get Your Free Website Analysis</h2>
                    <p class="text-slate-600 mb-8 max-w-2xl mx-auto">Our AI will analyze your site's design, clarity, and how well it encourages visitors to take action.</p>
                    <div class="max-w-md mx-auto space-y-4">
                        <div><input id="eval_name_input" type="text" placeholder="Your Name" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500"><p id="name-error" class="text-red-500 mt-2 text-sm text-left hidden">Please enter your name.</p></div>
                        <div><input id="eval_email_input" type="email" placeholder="you@email.com" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500"><p id="email-error" class="text-red-500 mt-2 text-sm text-left hidden">Please enter a valid email address.</p></div>
                        <div><input id="eval_website_url_input" type="url" placeholder="https://yourwebsite.com" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500"><p id="url-error" class="text-red-500 mt-2 text-sm text-left hidden">Please enter a valid URL.</p></div>
                        <div class="flex items-start space-x-3 text-left"><input id="newsletter_checkbox" name="newsletter" type="checkbox" value="1" checked class="mt-1 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"><div class="text-sm"><label for="newsletter_checkbox" class="text-sm font-medium text-gray-700">Yes, send me occasional insights about turning more visitors into customers — no spam, promise.</label></div></div>
                        <button id="start-btn" class="w-full bg-gradient-to-r from-primary to-secondary text-white px-8 py-4 rounded-xl text-lg font-semibold inline-flex items-center justify-center space-x-3 hover:scale-105 transition-transform shadow-lg"><span>Start Free Analysis</span></button>
                    </div>
                </div>
                <div id="processing-screen" class="hidden bg-white p-8 rounded-2xl shadow-lg text-center">
                    <h2 class="text-2xl font-bold mb-2">AI Is Analyzing Your Website...</h2>
                    <p class="text-slate-600 mb-8">This can take up to a minute. We're saving your info and sending the site to the AI.</p>
                    <div id="tracker-container" class="space-y-3 max-w-md mx-auto text-left"></div>
                </div>
                <div id="results-screen" class="hidden text-center">
                    <div class="bg-white p-8 rounded-2xl shadow-lg">
                        <div id="results-url" class="mb-4 text-sm text-indigo-700 font-semibold break-all"></div>
                        <h2 class="text-3xl font-bold mb-2">Your Analysis is Complete!</h2>
                        <p class="text-slate-600 mb-8">Here's your website's initial score. For detailed recommendations, order the full report.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div class="relative flex justify-center items-center h-[18rem] w-[18rem] mx-auto">
                                <svg class="w-[18rem] h-[18rem] transform -rotate-90"><circle class="text-slate-200" stroke-width="16" stroke="currentColor" fill="transparent" r="80" cx="144" cy="144" /><circle id="score-circle" class="text-indigo-600 score-circle" stroke-width="16" stroke-linecap="round" stroke="currentColor" fill="transparent" r="80" cx="144" cy="144" /></svg>
                                <div class="absolute flex flex-col items-center"><span id="overall-score-text" class="text-4xl font-extrabold text-slate-900">0</span><span class="text-slate-500 -mt-1 text-xl">Overall Score</span></div>
                            </div>
                            <div id="category-scores" class="space-y-4 text-left"></div>
                        </div>
                        <div id="feedback-section" class="mt-12 text-left border-t border-slate-200 pt-8">
                            <h3 class="text-2xl font-bold mb-4">Top Opportunities</h3>
                            <div id="feedback-list" class="space-y-6"></div>
                        </div>
                        <div class="mt-12 border-t border-slate-200 pt-8 text-center">
                            <h3 class="text-2xl font-bold text-slate-800 mb-2">Ready to Turn Insights into Action?</h3>
                            <p class="text-slate-600 max-w-xl mx-auto mb-6">This free report shows your biggest opportunities. The full, detailed report provides a step-by-step guide to fixing these issues and increasing conversions.</p>
                            <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
                                <button id="restart-btn" class="w-full sm:w-auto bg-slate-200 text-slate-800 font-bold py-3 px-8 rounded-lg hover:bg-slate-300 transition">Analyze Another Site</button>
                                <button id="order-advanced-btn" class="w-full sm:w-auto bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-transform transform hover:scale-105">Get the Full Report for $19.99</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="advanced-report-screen" class="hidden">
                    <div id="purchase-modal" class="fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center p-4 fade-in z-50">
                        <div class="bg-white rounded-2xl shadow-xl max-w-md w-full p-8 text-center slide-in-up">
                            <h2 class="text-2xl font-bold mb-2">Unlock Your Detailed Report</h2>
                            <p class="text-slate-600 mb-6">Get the full, detailed report with all the steps to improve your site.</p>
                            <div class="bg-slate-100 p-6 rounded-lg mb-6"><div class="flex justify-between items-center text-lg"><span class="font-medium">Detailed Website Report</span><span class="font-bold text-indigo-600">$19.99</span></div></div>
                            <button id="stripe-purchase-btn" class="w-full bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition">Secure Payment</button>
                            <button id="cancel-purchase-btn" class="mt-3 text-sm text-slate-500 hover:text-slate-700">Cancel and go back</button>
                        </div>
                    </div>
                    <div id="advanced-report-content" class="hidden bg-white p-8 rounded-2xl shadow-lg">
                        <div id="advanced-url" class="mb-4 text-sm text-indigo-700 font-semibold break-all"></div>
                        <div class="no-print flex justify-between items-center mb-8 border-b border-slate-200 pb-4"><h2 class="text-3xl font-bold">Detailed Report</h2></div>
                        <div id="advanced-feedback-list" class="space-y-8"></div>
                        <div id="ab-test-accordion" class="hidden no-print mt-12">
                            <button id="ab-test-toggle" class="w-full text-left font-bold text-xl p-4 bg-slate-100 rounded-lg flex justify-between items-center hover:bg-slate-200 transition">
                                <span>Bonus: A/B Test Ideas for Experts</span>
                                <svg id="ab-test-arrow" class="w-6 h-6 transition-transform" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </button>
                            <div id="ab-test-content" class="hidden p-4 border border-t-0 border-slate-200 rounded-b-lg">
                                <div id="ab-test-list" class="space-y-3"></div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // --- Tool's DOM ELEMENTS ---
            const startScreen = document.getElementById('start-screen');
            const processingScreen = document.getElementById('processing-screen');
            const resultsScreen = document.getElementById('results-screen');
            const advancedReportScreen = document.getElementById('advanced-report-screen');
            const purchaseModal = document.getElementById('purchase-modal');
            const advancedReportContent = document.getElementById('advanced-report-content');
            const startBtn = document.getElementById('start-btn');
            const restartBtn = document.getElementById('restart-btn');
            const orderAdvancedBtn = document.getElementById('order-advanced-btn');
            const cancelPurchaseBtn = document.getElementById('cancel-purchase-btn');
            const nameInput = document.getElementById('eval_name_input');
            const emailInput = document.getElementById('eval_email_input');
            const websiteUrlInput = document.getElementById('eval_website_url_input');
            const newsletterCheckbox = document.getElementById('newsletter_checkbox');
            const nameError = document.getElementById('name-error');
            const emailError = document.getElementById('email-error');
            const urlError = document.getElementById('url-error');
            const trackerContainer = document.getElementById('tracker-container');
            const overallScoreText = document.getElementById('overall-score-text');
            const scoreCircle = document.getElementById('score-circle');
            const categoryScoresContainer = document.getElementById('category-scores');
            const feedbackList = document.getElementById('feedback-list');
            const resultsUrl = document.getElementById('results-url');
            const advancedUrl = document.getElementById('advanced-url');
            const advancedFeedbackList = document.getElementById('advanced-feedback-list');
            const abTestAccordion = document.getElementById('ab-test-accordion');
            const abTestToggle = document.getElementById('ab-test-toggle');
            const abTestContent = document.getElementById('ab-test-content');
            const abTestArrow = document.getElementById('ab-test-arrow');
            const abTestList = document.getElementById('ab-test-list');
            
            let aiReportData = null;

            function isValidUrl(string) { try { new URL(string); return true; } catch (_) { return false; } }
            function isValidEmail(email) { return /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(email).toLowerCase()); }

            function startEvaluation() {
                let isValid = true;
                let urlToTest = websiteUrlInput.value.trim();
                if (!/^https?:\/\//i.test(urlToTest) && urlToTest.length > 0) {
                    urlToTest = 'https://' + urlToTest;
                    websiteUrlInput.value = urlToTest;
                }
                if (!nameInput.value.trim()) { nameError.classList.remove('hidden'); isValid = false; } else { nameError.classList.add('hidden'); }
                if (!isValidEmail(emailInput.value.trim())) { emailError.classList.remove('hidden'); isValid = false; } else { emailError.classList.add('hidden'); }
                if (!isValidUrl(urlToTest)) { urlError.classList.remove('hidden'); isValid = false; } else { urlError.classList.add('hidden'); }
                if (!isValid) return;

                startScreen.classList.add('fade-out');
                setTimeout(() => {
                    startScreen.classList.add('hidden');
                    processingScreen.classList.remove('hidden');
                    processingScreen.classList.add('fade-in');
                    runAutomatedChecks(nameInput.value.trim(), emailInput.value.trim(), urlToTest, newsletterCheckbox.checked);
                }, 500);
            }

            function runTrackerAnimation(onComplete) {
                const checks = [ { id: 'db-save', name: 'Saving your request...' }, { id: 'ai-call', name: 'Sending to our AI...' }, { id: 'parsing', name: 'Translating robot language...' }, { id: 'report', name: 'Making it look pretty...' } ];
                trackerContainer.innerHTML = '';
                checks.forEach(check => { trackerContainer.innerHTML += `<div id="tracker-${check.id}" class="tracker-item flex items-center p-4 bg-slate-100 rounded-lg"><div class="tracker-icon w-6 h-6 mr-4 flex-shrink-0 flex items-center justify-center"><svg class="pending-icon text-slate-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" /></svg><svg class="spinner text-indigo-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg><svg class="checkmark text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg></div><span class="tracker-text font-medium text-slate-700">${check.name}</span></div>`; });
                let currentCheckIndex = 0;
                const interval = setInterval(() => {
                    if (currentCheckIndex > 0) document.getElementById(`tracker-${checks[currentCheckIndex - 1].id}`).classList.add('complete');
                    if (currentCheckIndex < checks.length) {
                        document.getElementById(`tracker-${checks[currentCheckIndex].id}`).classList.add('in-progress');
                        currentCheckIndex++;
                    } else {
                        clearInterval(interval);
                        onComplete();
                    }
                }, 1200);
            }

            function runAutomatedChecks(name, email, url, newsletter) {
                let trackerDone = false, apiDone = false, apiError = null;
                const formData = new FormData();
                formData.append('name', name);
                formData.append('email', email);
                formData.append('website_url', url);
                formData.append('newsletter', newsletter ? '1' : '0');
                fetch('api_handler.php', { method: 'POST', body: formData })
                .then(response => response.json())
                .then(data => { if (data.error) throw new Error(data.error); aiReportData = data; })
                .catch(error => { apiError = error.message; })
                .finally(() => { apiDone = true; if (trackerDone) showResults(apiError); });
                runTrackerAnimation(() => { trackerDone = true; if (apiDone) showResults(apiError); });
            }

            function showResults(error = null) {
                if (error || !aiReportData) { alert(`An error occurred: ${error || 'Could not retrieve AI report.'}`); restart(); return; }
                processingScreen.classList.add('fade-out');
                setTimeout(() => {
                    processingScreen.classList.add('hidden');
                    resultsScreen.classList.remove('hidden');
                    resultsScreen.classList.add('fade-in');
                    resultsUrl.textContent = "Analyzed Site: " + websiteUrlInput.value;
                    displayInitialReport();
                }, 500);
            }

            function displayInitialReport() {
                const { overallScore, basicReport } = aiReportData;
                const { scores, topOpportunities } = basicReport;
                const metricDescriptions = { HeroClarity: "How clear is your main message?", VisualDesignLayout: "How professional does it look?", CallToAction: "Is it obvious what to do next?", ReadabilityTypography: "Is the text easy to read?", SocialProofTrust: "Does your site build trust?" };
                const scoresArray = Object.keys(scores).map(key => ({ metric: key, score: scores[key] }));
                categoryScoresContainer.innerHTML = '';
                scoresArray.forEach((cat, index) => { const colors = getScoreColor(cat.score); categoryScoresContainer.innerHTML += `<div class="slide-in-up" style="animation-delay: ${index * 100}ms"><div class="flex justify-between items-center mb-1"><span class="font-semibold">${formatMetricName(cat.metric)}</span><span class="text-sm font-bold ${colors.bg} ${colors.text} px-2.5 py-1 rounded-md">${cat.score}</span></div><p class="text-sm text-slate-500 text-left mb-2">${metricDescriptions[cat.metric] || ''}</p><div class="w-full bg-slate-200 rounded-full h-2.5"><div class="h-2.5 rounded-full ${colors.bar}" style="width: ${cat.score}%"></div></div></div>`; });
                feedbackList.innerHTML = '';
                topOpportunities.forEach(opp => { feedbackList.innerHTML += `<div class="flex gap-4"><div class="w-12 h-12 rounded-full bg-indigo-100 text-indigo-600 flex-shrink-0 flex items-center justify-center font-bold text-lg">💡</div><div><p class="text-slate-600">${opp}</p></div></div>`; });
                let currentScore = 0;
                const scoreInterval = setInterval(() => { if (currentScore >= overallScore) { clearInterval(scoreInterval); overallScoreText.textContent = overallScore; } else { currentScore++; overallScoreText.textContent = currentScore; } }, 20);
                const circle = scoreCircle; const circumference = circle.r.baseVal.value * 2 * Math.PI; const offset = circumference - (overallScore / 100) * circumference; setTimeout(() => { circle.style.strokeDashoffset = offset; }, 200);
            }

            function showAdvancedReportFlow() {
                resultsScreen.classList.add('fade-out');
                setTimeout(() => {
                    resultsScreen.classList.add('hidden');
                    advancedReportScreen.classList.remove('hidden');
                    purchaseModal.classList.remove('hidden');
                    advancedUrl.textContent = "Analyzed Site: " + websiteUrlInput.value;
                }, 500);
            }

            function generateAdvancedFeedback() {
                if (!aiReportData || !aiReportData.advancedReport) { advancedFeedbackList.innerHTML = `<p class="text-red-500">Could not display the detailed report.</p>`; return; }
                const { scores, advancedFeedback, abTestIdeas } = aiReportData.advancedReport;
                const metricIcons = { HeroClarity: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>`, VisualDesignLayout: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>`, CallToAction: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 15h14"/><path d="m12 5 7 10H5Z"/></svg>`, ReadabilityTypography: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16"/><path d="M4 12h16"/><path d="M4 18h16"/></svg>`, SocialProofTrust: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>`, HeroTrustSignals: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>`, PersuasiveCopy: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"/></svg>`, AttentionRatio: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20v-6M6 20v-4M18 20v-2"/></svg>`, NavigationClarity: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>`, AccessibilityContrast: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 18a6 6 0 0 0 0-12v12z"/></svg>`, MobileResponsiveHints: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></svg>`, };
                const feedbackArray = Object.keys(advancedFeedback).map(key => ({ category: key, ...advancedFeedback[key] }));
                advancedFeedbackList.innerHTML = '';
                feedbackArray.forEach(catFeedback => {
                    const scoreValue = scores[catFeedback.category] || -1;
                    const colors = getScoreColor(scoreValue);
                    const icon = metricIcons[catFeedback.category] || metricIcons.VisualDesignLayout;
                    advancedFeedbackList.innerHTML += `<div class="p-6 border border-slate-200 rounded-xl"><div class="flex gap-6 items-start"><div class="flex-shrink-0 flex flex-col items-center"><div class="w-16 h-16 rounded-full ${colors.bg} ${colors.text} flex-shrink-0 flex items-center justify-center font-bold text-2xl">${scoreValue === -1 ? 'N/A' : scoreValue}</div><div class="w-12 h-12 mt-3 flex items-center justify-center text-slate-500">${icon}</div></div><div class="flex-grow"><h3 class="text-2xl font-bold">${formatMetricName(catFeedback.category)}</h3><div class="mt-2 text-slate-700 leading-relaxed space-y-3"><p>${catFeedback.feedback}</p><p class="p-3 bg-slate-50 border-l-4 border-slate-200 italic"><span class="font-semibold not-italic">Example:</span> ${catFeedback.example}</p></div></div></div></div>`;
                });
                if (Array.isArray(abTestIdeas) && abTestIdeas.length > 0) {
                    abTestAccordion.classList.remove('hidden');
                    abTestList.innerHTML = '';
                    abTestIdeas.forEach(idea => { abTestList.innerHTML += `<div class="bg-slate-100 p-3 rounded-lg flex items-start gap-3"><span class="text-indigo-500 font-bold">Test:</span><p class="text-slate-700">${idea}</p></div>`; });
                }
            }

            function getScoreColor(percentage) { if (percentage === -1) return { bg: 'bg-slate-100', text: 'text-slate-500' }; if (percentage >= 85) return { bg: 'bg-green-100', text: 'text-green-800', bar: 'bg-green-500' }; if (percentage >= 50) return { bg: 'bg-yellow-100', text: 'text-yellow-800', bar: 'bg-yellow-500' }; return { bg: 'bg-red-100', text: 'text-red-800', bar: 'bg-red-500' }; }
            function formatMetricName(name) { return name.replace(/([A-Z])/g, ' $1').trim(); }
            function restart() { const currentScreen = document.querySelector('#evaluation-tool-container > div:not(.hidden)'); if (currentScreen) { currentScreen.classList.add('fade-out'); setTimeout(() => { currentScreen.classList.add('hidden'); startScreen.classList.remove('hidden', 'fade-out'); startScreen.classList.add('fade-in'); websiteUrlInput.value = ''; emailInput.value = ''; nameInput.value = ''; }, 500); } }

            startBtn.addEventListener('click', startEvaluation);
            restartBtn.addEventListener('click', restart);
            orderAdvancedBtn.addEventListener('click', showAdvancedReportFlow);
            cancelPurchaseBtn.addEventListener('click', () => {
                advancedReportScreen.classList.add('hidden');
                resultsScreen.classList.remove('hidden', 'fade-out');
                resultsScreen.classList.add('fade-in');
            });

            document.getElementById('stripe-purchase-btn').addEventListener('click', () => {
                purchaseModal.classList.add('hidden');
                advancedReportContent.classList.remove('hidden');
                generateAdvancedFeedback();
            });
            
            abTestToggle.addEventListener('click', () => {
                abTestContent.classList.toggle('hidden');
                abTestArrow.classList.toggle('rotate-180');
            });

            // Modal logic for policies
            function openModal(modalId) {
                const modal = document.getElementById(modalId);
                if (!modal) return;
                modal.classList.remove("pointer-events-none", "hidden");
                document.body.style.overflow = "hidden";
            }
            window.openModal = openModal;

            function closeModal(modalId) {
                const modal = document.getElementById(modalId);
                if (!modal) return;
                modal.classList.add("pointer-events-none", "hidden");
                document.body.style.overflow = "";
            }
            window.closeModal = closeModal;
            
            // Portfolio Modal Functions
            window.openPortfolioModal = function(imgSrc) {
                const modal = document.getElementById("portfolioModal");
                document.getElementById("modalImage").src = imgSrc;
                modal.classList.remove("pointer-events-none", "hidden");
                setTimeout(() => {
                    document.getElementById("modalBg").classList.add("opacity-100");
                    document.getElementById("modalContent").classList.add("opacity-100", "scale-100");
                }, 10);
                document.body.style.overflow = "hidden";
            }
            window.closePortfolioModal = function() {
                const modal = document.getElementById("portfolioModal");
                document.getElementById("modalBg").classList.remove("opacity-100");
                document.getElementById("modalContent").classList.remove("opacity-100", "scale-100");
                setTimeout(() => {
                    modal.classList.add("pointer-events-none", "hidden");
                    document.body.style.overflow = "";
                }, 300);
            }
        });
    </script>
</body>

</html>
